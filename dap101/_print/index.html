<!doctype html><html lang=es><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.98.0"><meta name=generator content="Relearn 3.4.1+tip"><meta name=description content="Dat Lab"><meta name=author content="Mariel Reyes"><title>Análisis de Datos en Python ::</title><link rel=canonical type=text/html href=/datlab/dap101/ title><link rel=alternate type=application/rss+xml href=/datlab/dap101/index.xml title><link rel=icon href=/datlab/images/logo.svg?1651724648 type=image/svg+xml><link href=/datlab/css/nucleus.css?1651724648 rel=stylesheet><link href=/datlab/css/fontawesome-all.min.css?1651724648 rel=stylesheet><link href=/datlab/css/featherlight.min.css?1651724648 rel=stylesheet><link href=/datlab/css/perfect-scrollbar.min.css?1651724648 rel=stylesheet><link href=/datlab/css/auto-complete.css?1651724648 rel=stylesheet><link href=/datlab/css/theme.css?1651724648 rel=stylesheet><link href=/datlab/css/theme-relearn-light.css?1651724648 rel=stylesheet id=variant-style><link href=/datlab/css/variant.css?1651724648 rel=stylesheet><link href=/datlab/css/print.css?1651724648 rel=stylesheet><script src=/datlab/js/variant.js?1651724648></script>
<script>var index_url="/datlab/index.json",baseUriFull,root_url="/",baseUri=root_url.replace(/\/$/,'');window.T_Copy_to_clipboard="Copiar en el portapapeles",window.T_Copied_to_clipboard="¡Copiado al portapapeles!",window.T_Copy_link_to_clipboard="Copiar enlace al portapapeles",window.T_Link_copied_to_clipboard="¡Enlace copiado al portapapeles!",baseUriFull="https://mariel-rs.github.io/datlab/",variants.init(["relearn-light"])</script><script src=/datlab/js/jquery.min.js?1651724648></script><script type=text/x-mathjax-config>
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"] ],
        processEscapes: true
      }
    });
  </script>
<script type=text/javascript src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-RYB0SFFXNW"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-RYB0SFFXNW")</script></head><body class="mobile-support print" data-url=/datlab/dap101/><div id=body class=default-animation><div id=sidebar-overlay></div><div id=toc-overlay></div><nav id=topbar class=highlightable><div><div class=navigation><a class="nav nav-next" href=/datlab/dap101/1-intro/ title="1. Introducción a Python"><i class="fas fa-chevron-right fa-fw"></i></a></div><div class=navigation><a class="nav nav-prev" href=/datlab/basics/history/ title=Historia><i class="fas fa-chevron-left fa-fw"></i></a></div><div id=top-print-link><a class=print-link title="Imprimer le chapitre entier" href=/datlab/dap101/_print/><i class="fas fa-print fa-fw"></i></a></div><div id=breadcrumbs><span id=sidebar-toggle-span><a href=# id=sidebar-toggle title=Menú><i class="fas fa-bars fa-fw"></i></a></span><ol class=links itemscope itemtype=http://schema.org/BreadcrumbList><meta itemprop=itemListOrder content="Descending"><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="2"><a itemprop=item href=/datlab/><span itemprop=name>Dat Lab</span></a> ></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="1"><a itemprop=item href=/datlab/dap101/ aria-disabled=true><span itemprop=name>Análisis de Datos en Python</span></a></li></ol></div></div></nav><main id=body-inner class="highlightable chapter"><div class=flex-block-wrapper><div id=head-tags></div><article class=chapter><h3 id=dap101>DAP101</h3><h1 id=análisis-de-datos-en-python>Análisis de Datos en Python</h1><p>En esta sección encontrarás el contenido y los ejercicios del curso
<em>Análisis de Datos en Python</em></p><div class="children children-h2 children-sort-"><h2><a href=/datlab/dap101/1-intro/>1. Introducción a Python</a></h2><p>Ejercicios y tareas del material introductorio a Python</p><h2><a href=/datlab/dap101/2-first_program/>2. Primer programa en Python</a></h2><p>Operaciones aritméticas. Condicionales. Funciones</p><h2><a href=/datlab/dap101/3-loop/>3. Bucles</a></h2><p>Bucles: For, While</p><h2><a href=/datlab/dap101/4-pandas/>4. Manejo de datos</a></h2><p>Manejo de datos con pandas</p><h2><a href=/datlab/dap101/5-visualizacion/>5. Visualización</a></h2><p>Creación de gráficos y visualizaciones con matplotlib y seaborn</p><h2><a href=/datlab/dap101/6-stats/>6. Análisis estadístico</a></h2><p>Pruebas de hipótesis y regresión</p><h2><a href=/datlab/dap101/7-proyecto/>7. Recapitulación</a></h2><p>Ejercicio final para recapitular lo aprendido en el curso</p></div><footer class=footline></footer></article><section><article><h1>1. Introducción a Python</h1><h2 id=introducción>Introducción</h2><p>Python es un lenguaje de programación fácil de aprender, con estructuras de
datos eficientes. Es considerado como el lenguaje más popular para aprender por
su versatilidad, su enfoque sencillo y la cantidad de librerías disponibles para
machine learning, análisis de datos y visualización de datos.</p><h3 id=salida-por-pantalla>Salida por pantalla</h3><p>Lo primero que se suele hacer cuando aprendemos a programar es saludar.
<a href=https://es.wikipedia.org/wiki/Hola_mundo>Hello world</a>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Hello world&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=mi>1</span><span class=o>+</span><span class=mi>1</span><span class=p>)</span>
</span></span></code></pre></div><h3 id=un-comentario>Un comentario</h3><p>Los comentarios son porciones del código que no se ejecutan. Son eso,
comentarios.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Hola, soy un comentario.</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Hello world&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=mi>1</span><span class=o>+</span><span class=mi>1</span><span class=p>)</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Hola, soy un comentario.</span>
</span></span><span class=line><span class=cl><span class=c1># print(&#34;Hello world&#34;) # Acabo de comentar esta linea</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=mi>1</span><span class=o>+</span><span class=mi>1</span><span class=p>)</span>
</span></span></code></pre></div><h2 id=variables>Variables</h2><p>Una variable es una ubicación en memoria que tiene un nombre simbólico asociado
y que puede guardar información.</p><p>Declarar una variable es tan fácil como definir un nombre y dar un valor.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>a</span> <span class=o>=</span> <span class=mi>2</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>a</span><span class=p>)</span>
</span></span></code></pre></div><h3 id=tipo-de-datos>Tipo de datos</h3><p>Python es un lenguaje de tipado dinámico. Es decir, no tenemos que definir el
tipo de dato. Python asumirá el tipo de valor usando una regla llamada
<em><strong>duck typing</strong></em>:</p><p>&ldquo;Si veo un ave que camina como un pato, nada como un pato y suena como un pato,
entonces a esa ave yo la llamo un pato.&rdquo;</p><h4 id=enteros-_int_>Enteros (<em>int</em>)</h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>a</span> <span class=o>=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>a</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=nb>type</span><span class=p>(</span><span class=n>a</span><span class=p>))</span>
</span></span></code></pre></div><h4 id=flotantes-_float_>Flotantes (<em>float</em>)</h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>a</span> <span class=o>=</span> <span class=mf>3.98</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>a</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=nb>type</span><span class=p>(</span><span class=n>a</span><span class=p>))</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>a</span> <span class=o>=</span> <span class=mf>1.0</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>a</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=nb>type</span><span class=p>(</span><span class=n>a</span><span class=p>))</span>
</span></span></code></pre></div><h4 id=booleanos-_bool_>Booleanos (<em>bool</em>)</h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>a</span> <span class=o>=</span> <span class=kc>True</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>a</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=nb>type</span><span class=p>(</span><span class=n>a</span><span class=p>))</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>a</span> <span class=o>=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>a</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=nb>type</span><span class=p>(</span><span class=n>a</span><span class=p>))</span>
</span></span></code></pre></div><h4 id=cadenas-de-texto-_str_>Cadenas de texto (<em>str</em>)</h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>a</span> <span class=o>=</span> <span class=s2>&#34;Hola&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>a</span><span class=p>)</span>
</span></span></code></pre></div><h3 id=convertir-tipos-de-datos>Convertir tipos de datos</h3><p>Gracias al duck typing, a veces Python puede asumir un tipo de datos que no
queremos. Sin embargo, podemos convertir datos.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Esto aunque parezca booleano, Python lo entendera como un entero</span>
</span></span><span class=line><span class=cl><span class=n>bool_test</span> <span class=o>=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>bool_test</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=nb>type</span><span class=p>(</span><span class=n>bool_test</span><span class=p>))</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Conversion de datos usando bool(), int(), float()</span>
</span></span><span class=line><span class=cl><span class=n>real_bool</span> <span class=o>=</span> <span class=nb>bool</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>real_int</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=mf>2.0</span><span class=p>)</span>
</span></span></code></pre></div><h2 id=entrada-por-teclado>Entrada por teclado</h2><p>Podemos permitir que el usuario introduzca información usando la función <strong>input()</strong>.
Esta función nos regresará lo que el usuario escribió como cadena de texto.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Entrada por teclado usando input()</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Escriba su nombre&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>nombre</span> <span class=o>=</span> <span class=nb>input</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># f strings ;)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Hola, </span><span class=si>{</span><span class=n>nombre</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;La variable tiene el tipo de dato </span><span class=si>{</span><span class=nb>type</span><span class=p>(</span><span class=n>nombre</span><span class=p>)</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span></code></pre></div><h2 id=estructuras-de-datos>Estructuras de datos</h2><p>Una estructura de datos es un formato de organización, manejo y almacenamiento
de datos que permite acceder y modificar datos de forma eficiente.</p><p>Python tiene 4 estructuras de datos básicas: listas, sets, tuplas y dictionarios.
En este curso sólo veremos listas y diccionarios.</p><h3 id=listas>Listas</h3><p>Las listas son estructuras de datos que se usan para guardar ítems en una sola
variable. Las listas pueden guardar cualquier tipo de datos.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Una lista vacia</span>
</span></span><span class=line><span class=cl><span class=n>empty_list</span> <span class=o>=</span> <span class=p>[]</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>str_list</span> <span class=o>=</span> <span class=p>[</span><span class=s2>&#34;1&#34;</span><span class=p>,</span> <span class=s2>&#34;2&#34;</span><span class=p>,</span> <span class=s2>&#34;3&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>int_list</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>mixed_list</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mf>1.0</span><span class=p>,</span> <span class=s2>&#34;2&#34;</span><span class=p>,</span> <span class=s2>&#34;Hola&#34;</span><span class=p>,</span> <span class=kc>True</span><span class=p>,</span> <span class=s2>&#34;True&#34;</span><span class=p>,</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>]]</span>
</span></span></code></pre></div><ul><li>Imprimir en pantalla cada una de las listas</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Aqui va tu codigo</span>
</span></span></code></pre></div><ul><li>¿Cuántos elementos tiene la lista?</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=nb>len</span><span class=p>(</span><span class=n>str_list</span><span class=p>))</span>
</span></span></code></pre></div><ul><li>Acceder a los elementos de la lista usando índices</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Todo empieza en cero...</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>str_list</span><span class=p>[</span><span class=mi>0</span><span class=p>])</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>str_list</span><span class=p>[</span><span class=mi>3</span><span class=p>])</span>
</span></span></code></pre></div><ul><li>Agregar elementos usando <strong>append()</strong></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>str_list</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=s2>&#34;4&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>str_list</span><span class=p>[</span><span class=mi>3</span><span class=p>])</span>
</span></span></code></pre></div><ul><li>Eliminar elementos usando <strong>remove()</strong></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>str_list</span><span class=o>.</span><span class=n>remove</span><span class=p>(</span><span class=s2>&#34;4&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>str_list</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>str_list</span><span class=p>[</span><span class=mi>3</span><span class=p>])</span>
</span></span></code></pre></div><h3 id=diccionarios>Diccionarios</h3><p>Los diccionarios se usan para guardar datos usando parejas de llaves y valores
(key: value). Los diccionarios no permiten repetición de llaves. Tal y como
funciona un diccionario físico.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Un diccionario vacio</span>
</span></span><span class=line><span class=cl><span class=n>empty_dict</span> <span class=o>=</span> <span class=p>{}</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Un diccionario de una bolsa de frutas</span>
</span></span><span class=line><span class=cl><span class=n>fruit_bag</span> <span class=o>=</span> <span class=p>{</span><span class=s1>&#39;apples&#39;</span><span class=p>:</span> <span class=mi>4</span><span class=p>,</span> <span class=s1>&#39;pears&#39;</span><span class=p>:</span> <span class=mi>9</span><span class=p>,</span> <span class=s2>&#34;bananas&#34;</span><span class=p>:</span> <span class=mi>0</span><span class=p>}</span>
</span></span></code></pre></div><p>También se puede escribir delimitando espacios (Mira la sangría)</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Un diccionario de una bolsa de frutas, con espacios</span>
</span></span><span class=line><span class=cl><span class=n>fruit_bag</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s1>&#39;apples&#39;</span><span class=p>:</span> <span class=mi>4</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>    <span class=s1>&#39;pears&#39;</span><span class=p>:</span> <span class=mi>9</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>    <span class=s2>&#34;bananas&#34;</span><span class=p>:</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span></code></pre></div><ul><li>Consultar las Keys (Llaves) existentes en el diccionario. Método <strong>keys()</strong></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>fruit_bag</span><span class=o>.</span><span class=n>keys</span><span class=p>())</span>
</span></span></code></pre></div><ul><li>Values (Valores) Método <strong>values()</strong></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>fruit_bag</span><span class=o>.</span><span class=n>values</span><span class=p>())</span>
</span></span></code></pre></div><ul><li>Comprobar si existe una llave en el diccionario</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s2>&#34;kiwis&#34;</span> <span class=ow>in</span> <span class=n>fruit_bag</span><span class=p>)</span>
</span></span></code></pre></div><ul><li>Acceder a valores usando una llave</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Cuantas manzanas hay?</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>fruit_bag</span><span class=p>[</span><span class=s2>&#34;apples&#34;</span><span class=p>])</span>
</span></span></code></pre></div><ul><li>Actualizar valores</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Ahora hay 5 manzanas</span>
</span></span><span class=line><span class=cl><span class=n>fruit_bag</span><span class=p>[</span><span class=s2>&#34;apples&#34;</span><span class=p>]</span> <span class=o>=</span> <span class=mi>5</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>fruit_bag</span><span class=p>)</span>
</span></span></code></pre></div><ul><li>Agregar nuevas llaves</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Agregando kiwis a la bolsa de frutas</span>
</span></span><span class=line><span class=cl><span class=n>fruit_bag</span><span class=p>[</span><span class=s2>&#34;kiwis&#34;</span><span class=p>]</span> <span class=o>=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>fruit_bag</span><span class=p>)</span>
</span></span></code></pre></div><ul><li>Eliminar una llave usando <strong>del</strong></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Ya no es temporada de kiwis</span>
</span></span><span class=line><span class=cl><span class=k>del</span> <span class=n>fruits</span><span class=p>[</span><span class=s1>&#39;kiwis&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>fruits</span><span class=p>)</span>
</span></span></code></pre></div><h2 id=ejercicios>Ejercicios</h2><ol><li><p>Crear una variable <code>colegiatura</code> que pida un valor al usuario.</p><ol><li>Imprimir el valor que el usuario introduce</li><li>Imprimir el tipo de dato que tiene <code>colegiatura</code></li><li>Convertir el valor a <em>float</em></li></ol></li><li><p>Usando las listas <code>mixed_list</code> y <code>str_list</code> de los ejercicios:</p><ol><li>Agregar el último elemento de la lista <code>str_list</code> a la lista
<code>mixed_list</code></li><li>Imprimir en pantalla:<ol><li>Tipo de dato del primer elemento de <code>mixed_list</code></li><li>Elemento con índice 6 de de <code>mixed_list</code></li></ol></li><li><strong>Reto</strong> Convertir el elemento con índice 1 de <code>mixed_list</code>
a tipo <em>int</em></li><li><strong>Reto</strong> Verificar si los elementos con índices 0 y 1 de
<code>mixed_list</code> y <code>str_list</code>son del mismo tipo</li></ol></li><li><p>Seguir el ejercicio de frutas en <strong>5.1. More on Lists</strong> en el sitio de
referencia de Python
<a href=https://docs.python.org/3/es/tutorial/datastructures.html>Estructuras de Datos</a></p></li><li><p>Crear un diccionario llamado <code>estudiante</code> con 2 llaves:</p><ul><li>&ldquo;id&rdquo;</li><li>&ldquo;calificacion_final&rdquo;</li></ul><p>Ejercicios:</p><ol><li>Llenar el diccionario con un ejemplo de un estudiante.</li><li><strong>Reto</strong> Llenar el diccionario con 3 estudiantes.</li></ol></li></ol><h2 id=material-adicional>Material adicional</h2><ul><li>Introducción a la programación con Python. Bartolomé Sintes Marco. Disponible
en: <a href=https://www.mclibre.org/consultar/python/index.html>https://www.mclibre.org/consultar/python/index.html</a></li></ul><footer class=footline></footer></article><article><h1>2. Primer programa en Python</h1><h2 id=introducción>Introducción</h2><p>Python es un lenguaje de programación completo que puede realizar distintos tipos
de operaciones: matemáticas, lógicas y relacionales. En esta sección veremos los
operadores que Python utiliza y cómo usarlos.</p><h2 id=operaciones-matemáticas>Operaciones matemáticas</h2><p><strong>Suma</strong></p><p>Se indica con el operador <code>+</code></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=mi>2</span> <span class=o>+</span> <span class=mi>3</span><span class=p>)</span>
</span></span></code></pre></div><p><strong>Resta</strong></p><p>Se indica con el operador <code>-</code></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=mi>2</span> <span class=o>-</span> <span class=mi>3</span><span class=p>)</span>
</span></span></code></pre></div><p><strong>Multiplicación</strong></p><p>Se indica con el operador <code>*</code></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Multiplicaciones</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=mi>2</span> <span class=o>*</span> <span class=mi>3</span><span class=p>)</span>
</span></span></code></pre></div><p><strong>Potencias</strong></p><p>Las potencias se indican con el operador <code>**</code> (Python no usa ^ para indicar
potencias como otros lenguajes)</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># cuidado con el operador...</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=mi>2</span> <span class=o>**</span> <span class=mi>3</span><span class=p>)</span>
</span></span></code></pre></div><p><strong>Divisiones</strong></p><p>Dependiendo lo que se requiera, las divisiones se indican con el operador <code>/</code>,
<code>//</code> o <code>%</code></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># División</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=mi>38</span> <span class=o>/</span> <span class=mi>5</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Cociente de la división (devuelve un entero)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=mi>38</span> <span class=o>//</span> <span class=mi>5</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Residuo de la división</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=mi>38</span> <span class=o>%</span> <span class=mi>5</span><span class=p>)</span>
</span></span></code></pre></div><h2 id=comparadores--operadores-relacionales>Comparadores / Operadores relacionales</h2><p>Consideremos dos variables, <code>x</code> y <code>y</code>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Dos numeros</span>
</span></span><span class=line><span class=cl><span class=n>x</span> <span class=o>=</span> <span class=mi>3</span>
</span></span><span class=line><span class=cl><span class=n>y</span> <span class=o>=</span> <span class=mi>4</span>
</span></span></code></pre></div><p>Los siguientes operadores devolverán un valor verdadero o falso, dependiendo de
la comparación.</p><p><strong>Igualdad</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Igual que</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>x</span> <span class=o>==</span> <span class=n>y</span><span class=p>)</span>
</span></span></code></pre></div><p><strong>Desigualdad</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># No es igual que </span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>x</span> <span class=o>!=</span> <span class=n>y</span><span class=p>)</span>
</span></span></code></pre></div><p><strong>Menor que, estrictamente menor</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Menor que</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>x</span> <span class=o>&lt;</span> <span class=n>y</span><span class=p>)</span>
</span></span></code></pre></div><p><strong>Mayor que, estrictamente mayor</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Mayor que</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>x</span> <span class=o>&gt;</span> <span class=n>y</span><span class=p>)</span>
</span></span></code></pre></div><p><strong>Menor o igual que</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Menor o igual que</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>x</span> <span class=o>&lt;=</span> <span class=n>y</span><span class=p>)</span>
</span></span></code></pre></div><p><strong>Mayor o igual que</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Mayor o igual que</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>x</span> <span class=o>&gt;=</span> <span class=n>y</span><span class=p>)</span>
</span></span></code></pre></div><h2 id=operadores-lógicos>Operadores lógicos</h2><p>Los operadores lógicos devuelven un resultado si se cumple o no una condición.
Los valores a devolver sólo son dos: verdadero o falso. Estos operadores se
llaman también booleanos por usar álgebra de Boole.</p><p><strong>and, operador y</strong></p><p>Devuelve un valor verdadero si <strong>todas</strong> las premisas son verdaderas.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Y</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>x</span> <span class=o>==</span> <span class=n>y</span> <span class=ow>and</span> <span class=mi>5</span> <span class=o>&gt;=</span> <span class=mi>2</span><span class=p>)</span>
</span></span></code></pre></div><p><strong>or, operador o</strong></p><p>Devuelve un valor verdadero si <strong>al menos una</strong> de las premisas es verdadera.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># O</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>x</span> <span class=o>==</span> <span class=n>y</span> <span class=ow>or</span> <span class=mi>5</span> <span class=o>&gt;=</span> <span class=mi>2</span><span class=p>)</span>
</span></span></code></pre></div><p><strong>not, operador no</strong></p><p>Este operador niega el valor de la premisa. Si el valor de la premisa es
verdadero, el operador devolverá un valor falso. Si el valor de la premisa es
falso, el operador devolverá un valor verdadero.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># not</span>
</span></span><span class=line><span class=cl><span class=n>z</span> <span class=o>=</span> <span class=n>x</span> <span class=o>==</span> <span class=n>y</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=ow>not</span> <span class=n>z</span><span class=p>)</span>
</span></span></code></pre></div><h2 id=estructuras-de-control>Estructuras de control</h2><h3 id=if>if</h3><p>if (si, en español) es una sentencia condicional que permite que un programa
ejecute un bloque de código si se cumple una condición (si la condición es
verdadera).</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Sintaxis de if</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=n>condición</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=c1>#Aquí va el código que se ejecutará si la condición es verdadera</span>
</span></span></code></pre></div><div class="box notices info"><div class=box-label><i class="fas fa-info-circle fa-fw"></i> Sangrías</div><div class=box-content><p>La sangría es la manera natural de Python de definir bloques de código. Las
sangrías típicamente se definen con un <strong>tab</strong>.</p><p>Fíjate bien en la sangría una vez que definimos la sentencia <strong>if</strong>. La
sangría define el bloque de código que se ejecutará si dicha condición es
verdadera. Si no dejamos la sangría, dicho bloque de código estará fuera del
if, y seguramente tendremos errores&mldr;</p></div></div><p>El siguiente ejemplo pedirá al usuario que introduzca un número positivo.
Después evaluará si el usuario realmente siguió la instrucción.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>numero</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=nb>input</span><span class=p>(</span><span class=s2>&#34;Escribe un número positivo: &#34;</span><span class=p>))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=n>numero</span> <span class=o>&lt;</span> <span class=mi>0</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;</span><span class=si>{</span><span class=n>numero</span><span class=si>}</span><span class=s2> no es un número positivo&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Ha escrito el número </span><span class=si>{</span><span class=n>numero</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span></code></pre></div><p>El siguiente ejemplo ahora pide al usuario que escriba un número mayor que 5. Si
el usuario escriba un número menor o igual a 5, el programa imprimirá en
pantalla un mensaje informando que esta instrucción no se siguió.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>numero</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=nb>input</span><span class=p>(</span><span class=s2>&#34;Escribe un número mayor que 5: &#34;</span><span class=p>))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=n>numero</span> <span class=o>&lt;=</span> <span class=mi>5</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;</span><span class=si>{</span><span class=n>numero</span><span class=si>}</span><span class=s2> no es un número estrictamente mayor que 5&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Ha escrito el número </span><span class=si>{</span><span class=n>numero</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span></code></pre></div><h3 id=if--else>if &mldr; else</h3><p>if &mldr; else es una sentencia condicional que permite que un programa ejecute un
bloque de código si se cumple una condición (si la condición es verdadera). Si
la condición no es verdadera, el programa ejecutará el bloque de código contenido
en <em>else</em>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Sintaxis de if else</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=n>condición</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=c1># Aquí va el código que se ejecutará si la condición es verdadera</span>
</span></span><span class=line><span class=cl><span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=c1># Aquí va el código que se ejecutará si la condición no es verdadera</span>
</span></span></code></pre></div><p>El siguiente ejemplo es lo que hace parte del personal de seguridad en la
entrada a un lugar donde es necesario tener mayoría de edad.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Entrada del BabyO&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>edad</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=nb>input</span><span class=p>(</span><span class=s2>&#34;¿Cuántos años tiene? &#34;</span><span class=p>))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=n>edad</span> <span class=o>&lt;</span> <span class=mi>18</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;No puede entrar&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Aunque es mayor de edad, esta lleno...&#34;</span><span class=p>)</span>
</span></span></code></pre></div><h3 id=if--elif--else>if &mldr; elif &mldr; else</h3><p>elif (contracción de <em>else if</em>) es una estructura de control útil cuando tenemos
más de una condición a evaluar. De esta manera, podemos encadenar varias
condiciones.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Sintaxis de if elif else</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=n>condición1</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=c1># Aquí va el código que se ejecutará si la condición1 es verdadera</span>
</span></span><span class=line><span class=cl><span class=k>elif</span> <span class=n>condición2</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=c1># Aquí va el código que se ejecutará si la condición2 es verdadera</span>
</span></span><span class=line><span class=cl><span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=c1># Aquí va el código si ninguna condición es verdadera</span>
</span></span></code></pre></div><p>El siguiente ejemplo nos dirá cuántos cajeros están disponibles en un banco,
considerando el número de clientes que ya están usando un cajero.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Multiples condiciones. Un banco con 3 cajeros</span>
</span></span><span class=line><span class=cl><span class=n>cajeros</span> <span class=o>=</span> <span class=mi>3</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>clientes</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=nb>input</span><span class=p>(</span><span class=s2>&#34;Escriba el numero de clientes usando un cajero &#34;</span><span class=p>))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Calcular cajeros disponibles</span>
</span></span><span class=line><span class=cl><span class=n>cajeros_disp</span> <span class=o>=</span> <span class=n>cajeros</span> <span class=o>-</span> <span class=n>clientes</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=p>(</span><span class=n>cajeros_disp</span> <span class=o>==</span> <span class=n>cajeros</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Todos los cajeros estan disponibles!&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>elif</span> <span class=p>(</span><span class=mi>1</span> <span class=o>&lt;=</span> <span class=n>cajeros_disp</span> <span class=o>&lt;</span> <span class=n>cajeros</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Hay </span><span class=si>{</span><span class=n>cajeros_disp</span><span class=si>}</span><span class=s2> cajeros disponibles&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>elif</span> <span class=p>(</span><span class=n>cajeros_disp</span> <span class=o>==</span> <span class=mi>0</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;No hay cajeros disponibles&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Intenta un número mayor que 0 pero menor o igual a 3&#34;</span><span class=p>)</span>
</span></span></code></pre></div><h2 id=funciones>Funciones</h2><p>Una función es un bloque de código que se ejecuta sólo cuando es llamada o
invocada. Se les puede transferir valores utilizando argumentos y a su vez, una
función puede devolver valores.</p><p><strong>Estructura de una función</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>mi_funcion</span><span class=p>(</span><span class=n>arg</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=c1># Aqui va el codigo</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>arg</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>otra_funcion</span><span class=p>(</span><span class=n>mensaje</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=c1># Aqui va el codigo</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>mensaje</span><span class=p>)</span>
</span></span></code></pre></div><p>Las funciones pueden tener más de un argumento. Todo depende de lo que queramos
que el programa realice.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>mi_funcion</span><span class=p>(</span><span class=n>arg1</span><span class=p>,</span> <span class=n>arg2</span><span class=p>):</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># Guarda los argumentos en una lista</span>
</span></span><span class=line><span class=cl>    <span class=n>arg_list</span> <span class=o>=</span> <span class=p>[</span><span class=n>arg1</span><span class=p>,</span> <span class=n>arg2</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>arg_list</span>
</span></span></code></pre></div><h2 id=ejercicios>Ejercicios</h2><ol><li>Escribe una función <strong>media</strong> que calcule la media de dos números <code>a</code> y <code>b</code>, y
que <strong>imprima</strong> el resultado en pantalla.</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>media</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=c1># Aqui va tu codigo</span>
</span></span></code></pre></div><ol start=2><li><p>Crea una función <strong>temp_convert</strong> que tome la temperatura en grados
Farenheit <code>tf</code> como argumento y la convierta a grados Celsius. La función
deberá mostrar en pantalla la temperatura en grados Celsius.</p><p>Puedes usar la siguiente ecuación para realizar la conversión de temperaturas:</p></li></ol><p>$$ T_c = \frac{5}{9}(T_f - 32)$$</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>temp_convert</span><span class=p>(</span><span class=n>tf</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=c1># Aqui va tu codigo</span>
</span></span></code></pre></div><div class="box notices tip"><div class=box-label><i class="fas fa-lightbulb fa-fw"></i> Consejo</div><div class=box-content><p>Puedes usar la función <strong>round(x, 2)</strong> para redondear el valor de <em>x</em> a 2
decimales.</p></div></div><p>Para verificar tu función, puedes usar las siguientes pruebas:</p><table><thead><tr><th>Prueba</th><th>Resultado</th></tr></thead><tbody><tr><td>temp_convert(59)</td><td>15</td></tr><tr><td>temp_convert(32)</td><td>0</td></tr><tr><td>temp_convert(-40)</td><td>-40</td></tr></tbody></table><ol start=3><li>Crea una función llamada <strong>contabilidad</strong> que tome una lista <code>pagos</code> con los
pagos del mes y una variable <code>ingresos</code> que indica el total de ingresos del mes
como argumentos. La función deberá regresar el dinero que queda disponible.</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>contabilidad</span><span class=p>(</span><span class=n>pagos</span><span class=p>,</span> <span class=n>ingresos</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=c1># Aqui va tu codigo</span>
</span></span></code></pre></div><div class="box notices tip"><div class=box-label><i class="fas fa-lightbulb fa-fw"></i> Consejo</div><div class=box-content><p>Puedes usar la función <strong>sum()</strong> para sumar todos los elementos de la lista.</p></div></div><p>Para verificar tu función, puedes usar las siguientes pruebas:</p><table><thead><tr><th>Prueba</th><th>Resultado</th></tr></thead><tbody><tr><td>print(contabilidad([100, 300, 20], 750))</td><td>330</td></tr><tr><td>print(contabilidad([300, 39, 700, 500, 220, 740], 2500))</td><td>1</td></tr></tbody></table><h2 id=material-adicional>Material adicional</h2><ul><li>Introducción a la programación con Python. Bartolomé Sintes Marco. Disponible
en: <a href=https://www.mclibre.org/consultar/python/index.html>https://www.mclibre.org/consultar/python/index.html</a></li></ul><footer class=footline></footer></article><article><h1>3. Bucles</h1><h2 id=introducción>Introducción</h2><p>Un bucle es estructura de control que repite un bloque de código con
instrucciones una y otra vez. Los bucles pueden ser finitos (se repiten un
determinado número de veces) o infinitos.</p><h2 id=bucles>Bucles</h2><h3 id=for>For</h3><p>For es un bucle finito, puesto que definimos el inicio y el fin. Típicamente
se usan cuando conocemos la cantidad de veces que deseamos repetir instrucciones.</p><p>Por ejemplo, cuando queremos acceder a una lista por sus elementos.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Una lista con numeros</span>
</span></span><span class=line><span class=cl><span class=n>a</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>10</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>6</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>element</span> <span class=ow>in</span> <span class=n>a</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>element</span><span class=p>)</span>
</span></span></code></pre></div><p><strong>Range</strong></p><p>Range es un tipo de datos especial que representa una secuencia de números. Se
puede utilizar para especificar la cantidad de veces que el bucle For se ejecuta.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=nb>range</span><span class=p>(</span><span class=n>j</span><span class=p>)</span>             <span class=c1># 0, 1, 2, ..., j-1</span>
</span></span><span class=line><span class=cl><span class=nb>range</span><span class=p>(</span><span class=n>i</span><span class=p>,</span> <span class=n>j</span><span class=p>)</span>          <span class=c1># i, i+1, i+2, ..., j-1</span>
</span></span><span class=line><span class=cl><span class=nb>range</span><span class=p>(</span><span class=n>i</span><span class=p>,</span> <span class=n>j</span><span class=p>,</span> <span class=n>k</span><span class=p>)</span>       <span class=c1># i, i+k, i+2k, ..., j-1</span>
</span></span></code></pre></div><p>Algunos ejemplos:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>range_list</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=nb>range</span><span class=p>(</span><span class=mi>5</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>range_list</span><span class=p>)</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>ten_hundred</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=nb>range</span><span class=p>(</span><span class=mi>10</span><span class=p>,</span> <span class=mi>101</span><span class=p>,</span> <span class=mi>10</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>ten_hundred</span><span class=p>)</span>
</span></span></code></pre></div><p>Usemos ahora <strong>range</strong> para acceder a los elementos de la lista usando índices.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Ahora usamos indice</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=nb>len</span><span class=p>(</span><span class=n>a</span><span class=p>)):</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>a</span><span class=p>[</span><span class=n>i</span><span class=p>])</span>
</span></span></code></pre></div><p><strong>Ejercicio</strong></p><ol><li>Usando un bucle <strong>For</strong>, calcular la media de un estudiante con las siguientes
calificaciones:</li></ol><table><thead><tr><th>Materia</th><th>Calificaciones</th></tr></thead><tbody><tr><td>Quimica</td><td>9</td></tr><tr><td>Biologia</td><td>8</td></tr><tr><td>Matematicas</td><td>9.5</td></tr><tr><td>Psicologia</td><td>8.5</td></tr></tbody></table><div class="box notices tip"><div class=box-label><i class="fas fa-lightbulb fa-fw"></i> Consejo</div><div class=box-content><p>Representa las calificaciones como una lista. Primero sumar y al final, dividir.</p><p>$$ \bar{x} = \frac{1}{N}\sum_{i=1}^N x $$</p></div></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Aqui va tu codigo</span>
</span></span></code></pre></div><h3 id=while>While</h3><p>While es un bucle de tipo infinito. En él, se repite la ejecución de un bloque de
instrucciones mientras se satisfaga una condición.</p><p>El siguiente ejemplo imprimirá en pantalla el número 0 tres veces.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>i</span> <span class=o>=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl><span class=k>while</span> <span class=n>i</span> <span class=o>&lt;=</span> <span class=mi>3</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>i</span> <span class=o>+=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Hasta que se acabe el dedo&#34;</span><span class=p>)</span>
</span></span></code></pre></div><p>Otro ejemplo.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>i</span> <span class=o>=</span> <span class=mi>10</span>
</span></span><span class=line><span class=cl><span class=k>while</span> <span class=n>i</span> <span class=o>&gt;=</span> <span class=mi>0</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>i</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>i</span> <span class=o>-=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Cuenta terminada&#34;</span><span class=p>)</span>
</span></span></code></pre></div><p>Un infinito (Definimos mal la condición a satisfacer)</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>i</span> <span class=o>=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl><span class=k>while</span> <span class=n>i</span> <span class=o>&lt;=</span> <span class=mi>10</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>i</span><span class=p>)</span>
</span></span></code></pre></div><p>Casi infinito.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Are you human?</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s2>&#34;¿Eres una persona? Responde Si o No&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>answer</span> <span class=o>=</span> <span class=nb>input</span><span class=p>()</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>while</span><span class=p>(</span><span class=n>answer</span> <span class=o>==</span> <span class=s2>&#34;si&#34;</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;¿En serio? Intenta otra vez. Responde Si o No&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>answer</span> <span class=o>=</span> <span class=nb>input</span><span class=p>()</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span>
</span></span></code></pre></div><p>Podemos romper un bucle while con <em>break</em></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>break_loop</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=n>contador</span> <span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>while</span> <span class=kc>True</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;¿Deseas terminar el programa? Escribe Si o No&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>respuesta</span> <span class=o>=</span> <span class=nb>input</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># Actualizar el contador</span>
</span></span><span class=line><span class=cl>        <span class=n>contador</span> <span class=o>+=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>contador</span> <span class=o>&gt;=</span> <span class=mi>5</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Ya me ejecuté muchas veces. Voy a descansar.&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=k>break</span>
</span></span></code></pre></div><h2 id=ejercicios>Ejercicios</h2><h5 id=aprobado--no-aprobado>Aprobado / No Aprobado</h5><p>Consideremos el caso de un estudiante que tiene que presentar tres exámenes.
La escala de evaluación es de 0 a 100 puntos.</p><p>Un estudiante aprueba el año si:</p><ul><li>Se aprueban todos los exámenes con 40 puntos o más, o</li><li>Se aprueban al menos dos exámenes con 40 puntos o más, y que la media de los
tres exámenes sea estrictamente mayor a 50. (Es decir, una media de 50 puntos no
es aprobatoria).</li></ul><p>Escribe una función <code>student_pass</code> que tome tres argumentos, las calificaciones
de los exámenes (como enteros), y determinar si el estudiante ha aprobado el año,
utilizando dichas calificaciones. La función debería imprimir &ldquo;Aprobado&rdquo; o
&ldquo;No aprobado&rdquo;.</p><p>Puedes utilizar la siguientes pruebas para verificar tu función:</p><table><thead><tr><th>Prueba</th><th>Resultado</th></tr></thead><tbody><tr><td>student_pass(70, 50, 30)</td><td>&ldquo;No aprobado&rdquo;</td></tr><tr><td>student_pass(70, 50, 35)</td><td>&ldquo;Aprobado&rdquo;</td></tr></tbody></table><h5 id=dile-que-no>&ldquo;Dile que no&rdquo;</h5><p>Escribe un programa que imprima en pantalla la pregunta</p><p>&ldquo;¿Desea continuar el programa?:&rdquo;</p><p>Y que termine el programa solo cuando el usuario escriba &ldquo;no&rdquo;.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>dile_no</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=c1># Aqui va tu codigo</span>
</span></span></code></pre></div><footer class=footline></footer></article><article><h1>4. Manejo de datos</h1><h2 id=introducción>Introducción</h2><p>pandas es la librería de Python más utilizada para procesar datos. pandas puede
leer datos de archivos CSV, JSON, txt, xls, xlsx, entre otros. La estructura de
datos más común de esta librería es DataFrame, que es una estructura de datos
tabular bidimensional con ejes etiquetados (filas y columnas).</p><p><strong>Datos</strong></p><p>Usaremos los siguientes archivos para los ejercicios de este tema:</p><div class="box attachments blue"><div class=box-label><i class="fas fa-paperclip fa-fw"></i> Archivos</div><ul class="box-content attachments-files"><li><a href=/datlab/dap101/4-pandas/files/estudiantes_mxuk.csv>estudiantes_mxuk.csv</a> (9 KB)</li><li><a href=/datlab/dap101/4-pandas/files/inah_visitantes_2022.csv>inah_visitantes_2022.csv</a> (19 KB)</li></ul></div><h2 id=primeros-pasos>Primeros pasos</h2><p>Creamos un Jupyter notebook y creamos un cuadro con código. Analizaremos el
archivo <code>inah_visitantes_2022.csv</code>.</p><p>Este archivo contiene la información de visitantes a museos y zonas arqueológicas
manejadas por el INAH durante el año 2022. La descripción de las columnas es la
siguiente:</p><table><thead><tr><th>Variable</th><th>Tipo variable</th><th>Descripción de la variable</th></tr></thead><tbody><tr><td>Estado</td><td>Cadena de texto</td><td>Estado de la República donde se encuentra el centro INAH</td></tr><tr><td>Clave_SIINAH</td><td>Numérica</td><td>Clave interna asociada al centro INAH</td></tr><tr><td>Tipo</td><td>Cadena de texto</td><td>Tipo de centro. Z.A. - Zona arqueológica. M. M.H. - Museo o Museo histórico</td></tr><tr><td>Clave_SIINAH</td><td>Numérica</td><td>Clave interna asociada al centro INAH</td></tr><tr><td>Centro_INAH</td><td>Cadena de texto</td><td>Nombre del centro INAH</td></tr><tr><td>Enero_nac</td><td>Numérica</td><td>Número de visitantes nacionales en el mes de enero</td></tr><tr><td>Enero_ext</td><td>Numérica</td><td>Número de visitantes extranjeros en el mes de enero</td></tr><tr><td>Febrero_nac</td><td>Numérica</td><td>Número de visitantes nacionales en el mes de febrero</td></tr><tr><td>Febrero_ext</td><td>Numérica</td><td>Número de visitantes extranjeros en el mes de febrero</td></tr><tr><td>Marzo_nac</td><td>Numérica</td><td>Número de visitantes nacionales en el mes de marzo</td></tr><tr><td>Marzo_ext</td><td>Numérica</td><td>Número de visitantes extranjeros en el mes de marzo</td></tr></tbody></table><h3 id=importar-datos>Importar datos</h3><p>Importamos el CSV usando el método
<a href=https://pandas.pydata.org/docs/reference/api/pandas.read_csv.html><strong>read_csv()</strong></a>.
El nombre del archivo debe ir entre comillas.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>pandas</span> <span class=k>as</span> <span class=nn>pd</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Leer el CSV y procesarlo como dataframe</span>
</span></span><span class=line><span class=cl><span class=n>inah_visitantes2022</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>read_csv</span><span class=p>(</span><span class=s2>&#34;inah_visitantes_2022.csv&#34;</span><span class=p>)</span>
</span></span></code></pre></div><p><code>inah_visitantes2022</code> es un objeto DataFrame que contiene los datos de este CSV.</p><p>Podemos ver lo que contiene el dataframe:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Miramos lo que contiene el dataframe</span>
</span></span><span class=line><span class=cl><span class=n>inah_visitantes2022</span>
</span></span></code></pre></div><h3 id=head-or-tail>head or tail</h3><p>Ver sólo ver las primeras <em>n</em> filas con el método
<a href=https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.head.html><strong>head()</strong></a>.
O las últimas <em>n</em> filas con el método <a href=https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.tail.html><strong>tail()</strong></a>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># ver las primeras 5 filas</span>
</span></span><span class=line><span class=cl><span class=n>inah_visitantes2022</span><span class=o>.</span><span class=n>head</span><span class=p>(</span><span class=mi>5</span><span class=p>)</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># ver las últimas 5 filas</span>
</span></span><span class=line><span class=cl><span class=n>inah_visitantes2022</span><span class=o>.</span><span class=n>tail</span><span class=p>(</span><span class=mi>5</span><span class=p>)</span>
</span></span></code></pre></div><h3 id=resumen-general>Resumen general</h3><p>El método <a href=https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.info.html><strong>info()</strong></a>
muestra información general del DataFrame como el tipo de datos que contiene la
columna, conteo de valores no nulos y uso de memoria.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Informacion general</span>
</span></span><span class=line><span class=cl><span class=n>inah_visitantes2022</span><span class=o>.</span><span class=n>info</span><span class=p>()</span>
</span></span></code></pre></div><h3 id=dimensiones>Dimensiones</h3><p>Para inspeccionar las dimensiones de los datos importados, usamos el atributo
<a href=https://pandas.pydata.org/pandas-docs/version/1.3.0/reference/api/pandas.DataFrame.shape.html><strong>shape</strong></a>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Dimensiones</span>
</span></span><span class=line><span class=cl><span class=n>inah_visitantes2022</span><span class=o>.</span><span class=n>shape</span>
</span></span></code></pre></div><p>Esto nos devuelve una tupla (277, 10) que contiene el numero de (filas, columnas)
de este DataFrame.</p><h3 id=columnas>Columnas</h3><p>Para inspeccionar el nombre de las columnas, usamos el atributo
<a href=https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.columns.html><strong>columns</strong></a>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Columnas</span>
</span></span><span class=line><span class=cl><span class=n>inah_visitantes2022</span><span class=o>.</span><span class=n>columns</span>
</span></span></code></pre></div><h3 id=ordenar-datos>Ordenar datos</h3><p>Podemos ordenar datos usando el método
<a href=https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.sort_values.html><strong>sort_values()</strong></a>.</p><p>En el siguiente ejemplo, ordenamos por una columna, en orden ascendente.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Ordenar por una sola columna, &#34;enero_nac&#34;. ascending = True por defecto</span>
</span></span><span class=line><span class=cl><span class=n>inah_visitantes2022</span><span class=o>.</span><span class=n>sort_values</span><span class=p>(</span><span class=n>by</span><span class=o>=</span><span class=p>[</span><span class=s1>&#39;enero_nac&#39;</span><span class=p>])</span>
</span></span></code></pre></div><p>También podemos ordenar por más de una columna, en orden descendente.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Ordenar por &#34;enero_nac, febrero_nac&#34; en orden descendente</span>
</span></span><span class=line><span class=cl><span class=n>inah_visitantes2022</span><span class=o>.</span><span class=n>sort_values</span><span class=p>(</span><span class=n>by</span><span class=o>=</span><span class=p>[</span><span class=s1>&#39;enero_nac&#39;</span><span class=p>,</span> <span class=s1>&#39;febrero_nac&#39;</span><span class=p>],</span> <span class=n>ascending</span> <span class=o>=</span> <span class=kc>False</span><span class=p>)</span>
</span></span></code></pre></div><h2 id=dataframe-vs-series>DataFrame vs Series</h2><h3 id=selección-de-columnas>Selección de columnas</h3><p>Podemos crear un DataFrame más pequeño sólo con algunas columnas.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Un dataframe con datos nacionales</span>
</span></span><span class=line><span class=cl><span class=n>inah_visitantes_nac</span> <span class=o>=</span> <span class=n>inah_visitantes2022</span><span class=p>[[</span><span class=s2>&#34;Centro INAH&#34;</span><span class=p>,</span> <span class=s2>&#34;enero_nac&#34;</span><span class=p>,</span> <span class=s2>&#34;febrero_nac&#34;</span><span class=p>,</span> <span class=s2>&#34;marzo_nac&#34;</span><span class=p>]]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Mostrar 5 primeras filas</span>
</span></span><span class=line><span class=cl><span class=n>inah_visitantes_nac</span><span class=o>.</span><span class=n>head</span><span class=p>(</span><span class=mi>5</span><span class=p>)</span>
</span></span></code></pre></div><h3 id=series>Series</h3><p>Una serie es un arreglo unidimensional de datos (vector columna).</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Una serie con los datos de los centros INAH</span>
</span></span><span class=line><span class=cl><span class=n>centros_inah</span> <span class=o>=</span> <span class=n>inah_visitantes2022</span><span class=p>[</span><span class=s2>&#34;Centro INAH&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>centros_inah</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Series pueden ser convertidas a lista</span>
</span></span><span class=line><span class=cl><span class=n>enero_nac</span> <span class=o>=</span> <span class=n>inah_visitantes2022</span><span class=p>[</span><span class=s2>&#34;enero_nac&#34;</span><span class=p>]</span><span class=o>.</span><span class=n>to_list</span><span class=p>()</span>
</span></span></code></pre></div><h2 id=estadística-descriptiva>Estadística descriptiva</h2><h3 id=dataframe>DataFrame</h3><p>Accedemos a las siguientes medidas descriptivas de los datos usando el método
<a href=https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.describe.html><strong>describe()</strong></a>:</p><ul><li>Conteo</li><li>Media</li><li>Desviación típica</li><li>Valor mínimo</li><li>Primer cuartil (25%)</li><li>Segundo cuartil o mediana (50%)</li><li>Tercer cuartil (75%)</li><li>Valor máximo</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Mostrar estadistica descriptiva de un DataFrame</span>
</span></span><span class=line><span class=cl><span class=n>inah_visitantes2022</span><span class=o>.</span><span class=n>describe</span><span class=p>()</span>
</span></span></code></pre></div><h3 id=series-1>Series</h3><p>Para una serie con valores numéricos, se reportan las mismas medidas que en un
DataFrame. Pero para una serie con valores de texto, se reportan:</p><ul><li>Conteo</li><li>Valores únicos</li><li>Top (Valor más frecuente)</li><li>Frecuencia</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Mostrar estadistica descriptiva de una Serie</span>
</span></span><span class=line><span class=cl><span class=n>inah_visitantes2022</span><span class=p>[</span><span class=s2>&#34;Estado&#34;</span><span class=p>]</span><span class=o>.</span><span class=n>describe</span><span class=p>()</span>
</span></span></code></pre></div><h2 id=operaciones>Operaciones</h2><p>Hemos visto hasta ahora como importar datos y ver sus medidas de estadística
descriptiva, pero también podemos realizar operaciones con los DataFrames.</p><h3 id=crear-columnas>Crear columnas</h3><p>Crear columnas es tan simple como declarar el nombre de la columna y los valores
que queremos guardar en esta columna.</p><p>Por ejemplo, creemos la columna &ldquo;prueba_columna&rdquo; en el DataFrame de visitantes
a centros INAH. Le asignaremos a esta columna un valor arbitrario.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>inah_visitantes2022</span><span class=p>[</span><span class=s2>&#34;prueba_columna&#34;</span><span class=p>]</span> <span class=o>=</span> <span class=mi>1</span>
</span></span></code></pre></div><p>Lo que hizo este instrucción fue crear la columna y asignar a todas las filas el
valor de 1. Pero, también podemos crear columnas usando valores de otras columnas
usando operaciones matemáticas.</p><p>Creemos una nueva columna llamada <code>enero_visitantes</code> que contenga la suma de
todos los visitantes (tanto nacionales como extranjeros) de cada centro INAH en
el mes de enero.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># enero_visitantes es la suma de visitantes nacionales y visitantes extranjeros</span>
</span></span><span class=line><span class=cl><span class=n>inah_visitantes2022</span><span class=p>[</span><span class=s2>&#34;enero_visitantes&#34;</span><span class=p>]</span> <span class=o>=</span> <span class=n>inah_visitantes2022</span><span class=p>[</span><span class=s2>&#34;enero_nac&#34;</span><span class=p>]</span> <span class=o>+</span> <span class=n>inah_visitantes2022</span><span class=p>[</span><span class=s2>&#34;enero_ext&#34;</span><span class=p>]</span>
</span></span></code></pre></div><h3 id=eliminar-columnas>Eliminar columnas</h3><p>Para eliminar columnas innecesarias o que fueron creadas por error, se puede
hacer con el método
<a href=https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.drop.html><strong>drop()</strong></a>.</p><p>La sintaxis es la siguiente:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>df</span> <span class=o>=</span> <span class=n>df</span><span class=o>.</span><span class=n>drop</span><span class=p>(</span><span class=n>columns</span><span class=p>)</span>
</span></span></code></pre></div><p>donde el argumento <code>columns</code> puede aceptar un valor único con el nombre de la
columna, o una lista con los nombres de columnas a eliminar.</p><p>Para eliminar la columna que acabamos de crear, introducimos la siguiente
instrucción:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>inah_visitantes2022</span> <span class=o>=</span> <span class=n>inah_visitantes2022</span><span class=o>.</span><span class=n>drop</span><span class=p>(</span><span class=n>columns</span> <span class=o>=</span> <span class=s2>&#34;prueba_columna&#34;</span><span class=p>)</span>
</span></span></code></pre></div><h3 id=crear-columnas-usando-funciones>Crear columnas usando funciones</h3><p>Para usar una función basada en una columna podemos usar el método
<a href=https://pandas.pydata.org/docs/reference/api/pandas.Series.map.html><strong>map()</strong></a>.</p><p>La sintaxis es la siguiente:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Sintaxis de map</span>
</span></span><span class=line><span class=cl><span class=n>df</span><span class=p>[</span><span class=s1>&#39;nueva_col&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=n>df</span><span class=p>[</span><span class=s1>&#39;col&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>map</span><span class=p>(</span><span class=n>funcion</span><span class=p>)</span>
</span></span></code></pre></div><p>Tenemos la siguiente función que escribe una cadena de texto si la columna tiene
valores de 0 o distintos de 0.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>test_function</span><span class=p>(</span><span class=n>col</span><span class=p>):</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=n>col</span> <span class=o>==</span> <span class=mi>0</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>col</span> <span class=o>=</span> <span class=s2>&#34;No visitantes&#34;</span>
</span></span><span class=line><span class=cl>    <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>col</span> <span class=o>=</span> <span class=s2>&#34;Visitantes&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>col</span>
</span></span></code></pre></div><p>Usemos map para aplicar esta función a una nueva columna &ldquo;respuesta&rdquo;.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>inah_visitantes2022</span><span class=p>[</span><span class=s2>&#34;respuesta&#34;</span><span class=p>]</span> <span class=o>=</span> <span class=n>inah_visitantes2022</span><span class=p>[</span><span class=s2>&#34;enero_nac&#34;</span><span class=p>]</span><span class=o>.</span><span class=n>map</span><span class=p>(</span><span class=n>test_function</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>inah_visitantes2022</span><span class=o>.</span><span class=n>head</span><span class=p>()</span>
</span></span></code></pre></div><div class="box notices info"><div class=box-label><i class="fas fa-info-circle fa-fw"></i> Información</div><div class=box-content><p>Si la función es más compleja y requiere más de una columna, está el método
<a href=https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.apply.html><strong>apply()</strong></a>.</p></div></div><h2 id=selección-de-datos>Selección de datos</h2><p>Podemos hacer una selección de datos del DataFrame, dependiendo si queremos ver
un subconjunto que satisfaga una o más condiciones, o la ubicación dentro del
DataFrame.</p><h3 id=condicionales>Condicionales</h3><ol><li>Una condición</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Sintaxis</span>
</span></span><span class=line><span class=cl><span class=n>df</span><span class=p>[</span><span class=n>df</span><span class=p>[</span><span class=s2>&#34;columna&#34;</span><span class=p>]</span> <span class=n>condición</span><span class=p>]</span>
</span></span></code></pre></div><p>donde la condición puede ser una igualdad <code>==</code>, diferente de <code>!=</code>, mayor o igual
<code>>=</code>, menor o igual <code>&lt;=</code>, estrictamente mayor <code>></code> o estrictamente menor <code>&lt;</code>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Mostrar datos solo para el estado Guerrero</span>
</span></span><span class=line><span class=cl><span class=n>inah_visitantes2022</span><span class=p>[</span><span class=n>inah_visitantes2022</span><span class=p>[</span><span class=s2>&#34;Estado&#34;</span><span class=p>]</span> <span class=o>==</span> <span class=s2>&#34;Guerrero&#34;</span><span class=p>]</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Mostrar centros con más de 1000 visitantes nacionales en enero</span>
</span></span><span class=line><span class=cl><span class=n>inah_visitantes2022</span><span class=p>[</span><span class=n>inah_visitantes2022</span><span class=p>[</span><span class=s2>&#34;enero_nac&#34;</span><span class=p>]</span> <span class=o>&gt;=</span> <span class=mi>10000</span><span class=p>]</span>
</span></span></code></pre></div><ol start=2><li>Múltiples condiciones</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Sintaxis</span>
</span></span><span class=line><span class=cl><span class=n>df</span><span class=p>[(</span><span class=n>df</span><span class=p>[</span><span class=s2>&#34;columna&#34;</span><span class=p>]</span> <span class=n>condición1</span><span class=p>)</span> <span class=n>operador_lógico</span> <span class=p>(</span><span class=n>df</span><span class=p>[</span><span class=s2>&#34;columna&#34;</span><span class=p>]</span> <span class=n>condición2</span><span class=p>)</span> <span class=o>...</span> <span class=p>]</span>
</span></span></code></pre></div><p>donde el operador lógico puede ser <code>&</code> (operador &ldquo;y&rdquo;) o <code>|</code> (operador &ldquo;o&rdquo;)</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Mostrar los centros con más de 1000 visitantes nacionales en Guerrero</span>
</span></span><span class=line><span class=cl><span class=n>inah_visitantes2022</span><span class=p>[(</span><span class=n>inah_visitantes2022</span><span class=p>[</span><span class=s2>&#34;Estado&#34;</span><span class=p>]</span> <span class=o>==</span> <span class=s2>&#34;Guerrero&#34;</span><span class=p>)</span> <span class=o>&amp;</span> <span class=p>(</span><span class=n>inah_visitantes2022</span><span class=p>[</span><span class=s2>&#34;enero_nac&#34;</span><span class=p>]</span> <span class=o>&gt;</span> <span class=mi>1000</span><span class=p>)]</span>
</span></span></code></pre></div><ol><li>Múltiples valores a comparar de una misma columna</li></ol><p>El método <a href=https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.isin.html><strong>isin()</strong></a>
nos permite utilizar una lista para comparar valores.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Sintaxis</span>
</span></span><span class=line><span class=cl><span class=n>df</span><span class=p>[</span><span class=n>df</span><span class=p>[</span><span class=s2>&#34;columna&#34;</span><span class=p>]</span><span class=o>.</span><span class=n>isin</span><span class=p>(</span><span class=n>lista</span><span class=p>)]</span>
</span></span></code></pre></div><p>Mostrar los centros con más de 1000 visitantes nacionales en Guerrero y Quintana
Roo en el mes de marzo.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Seleccion de centros en Guerrero y Quintana Roo usando el metodo isin</span>
</span></span><span class=line><span class=cl><span class=n>inah_visitantes2022</span><span class=p>[(</span><span class=n>inah_visitantes2022</span><span class=p>[</span><span class=s2>&#34;Estado&#34;</span><span class=p>]</span><span class=o>.</span><span class=n>isin</span><span class=p>([</span><span class=s2>&#34;Guerrero&#34;</span><span class=p>,</span> <span class=s2>&#34;Quintana Roo&#34;</span><span class=p>]))</span> <span class=o>&amp;</span> <span class=p>(</span><span class=n>inah_visitantes2022</span><span class=p>[</span><span class=s2>&#34;marzo_nac&#34;</span><span class=p>]</span> <span class=o>&gt;</span> <span class=mi>1000</span><span class=p>)]</span>
</span></span></code></pre></div><ol start=4><li>Query</li></ol><p>Cuando se tienen más de una condición,
<a href=https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.query.html><strong>query()</strong></a>
puede ser más elegante.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Sintaxis</span>
</span></span><span class=line><span class=cl><span class=n>df</span><span class=o>.</span><span class=n>query</span><span class=p>(</span><span class=s1>&#39;expresion&#39;</span><span class=p>)</span>
</span></span></code></pre></div><p>Para seleccionar los datos de centros INAH del estado de Guerrero con visitantes
nacionales en enero mayores o igual a 1000, podriamos escribirlo como en el
ejemplo 2, o usando query:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Seleccion usando query</span>
</span></span><span class=line><span class=cl><span class=n>inah_visitantes2022</span><span class=o>.</span><span class=n>query</span><span class=p>(</span><span class=s1>&#39;Estado == &#34;Guerrero&#34; &amp; enero_nac &gt;= 1000&#39;</span><span class=p>)</span>
</span></span></code></pre></div><h3 id=ver-valores-por-su-label-o-utilizando-con-condiciones-loc>Ver valores por su label, o utilizando con condiciones, .loc</h3><p><a href=https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.loc.html><strong>loc</strong></a> es
una propiedad que nos permite ver valores usando el label (o índice) de las filas,
o usar condiciones para generar vistas.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Vistas por condiciones. Tambien se pueden definir cuantas columnas mostrar</span>
</span></span><span class=line><span class=cl><span class=n>inah_visitantes2022</span><span class=o>.</span><span class=n>loc</span><span class=p>[</span><span class=n>inah_visitantes2022</span><span class=p>[</span><span class=s2>&#34;Estado&#34;</span><span class=p>]</span> <span class=o>==</span> <span class=s2>&#34;Guerrero&#34;</span><span class=p>,</span> <span class=p>[</span><span class=s2>&#34;enero_nac&#34;</span><span class=p>,</span> <span class=s2>&#34;febrero_nac&#34;</span><span class=p>]]</span>
</span></span></code></pre></div><p>Parece igual&mldr;</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Un DataFrame con labels en lugar de indices</span>
</span></span><span class=line><span class=cl><span class=n>df_label</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>([[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>],</span> <span class=p>[</span><span class=mi>4</span><span class=p>,</span> <span class=mi>5</span><span class=p>],</span> <span class=p>[</span><span class=mi>7</span><span class=p>,</span> <span class=mi>8</span><span class=p>]],</span>
</span></span><span class=line><span class=cl>     <span class=n>index</span><span class=o>=</span><span class=p>[</span><span class=s1>&#39;cobra&#39;</span><span class=p>,</span> <span class=s1>&#39;viper&#39;</span><span class=p>,</span> <span class=s1>&#39;sidewinder&#39;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>     <span class=n>columns</span><span class=o>=</span><span class=p>[</span><span class=s1>&#39;max_speed&#39;</span><span class=p>,</span> <span class=s1>&#39;shield&#39;</span><span class=p>])</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># loc, vistas por label</span>
</span></span><span class=line><span class=cl><span class=n>df_label</span><span class=o>.</span><span class=n>loc</span><span class=p>[</span><span class=s2>&#34;cobra&#34;</span><span class=p>]</span>
</span></span></code></pre></div><h3 id=ver-valores-por-índices-iloc>Ver valores por índices, .iloc</h3><p><a href=https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.iloc.html><strong>iloc</strong></a>
es una propiedad que nos permitirá acceder a filas y columnas usando sus índices.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Sintaxis general</span>
</span></span><span class=line><span class=cl><span class=n>df</span><span class=o>.</span><span class=n>iloc</span><span class=p>[</span><span class=n>fila_a</span><span class=p>:</span> <span class=n>fila_b</span><span class=p>,</span> <span class=n>columna_a</span><span class=p>:</span> <span class=n>columna_b</span><span class=p>]</span>
</span></span></code></pre></div><ol><li>Una fila</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Primera fila, una serie</span>
</span></span><span class=line><span class=cl><span class=n>inah_visitantes2022</span><span class=o>.</span><span class=n>iloc</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> 
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Primera fila, pero un dataframe</span>
</span></span><span class=line><span class=cl><span class=n>inah_visitantes2022</span><span class=o>.</span><span class=n>iloc</span><span class=p>[[</span><span class=mi>0</span><span class=p>]]</span> 
</span></span></code></pre></div><ol start=2><li>Más de una fila, en desorden</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Más de una fila, en distinto orden</span>
</span></span><span class=line><span class=cl><span class=n>inah_visitantes2022</span><span class=o>.</span><span class=n>iloc</span><span class=p>[[</span><span class=mi>7</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>0</span><span class=p>]]</span>
</span></span></code></pre></div><ol start=3><li>Celdas</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Celda ubicada en la fila 0, columna 3</span>
</span></span><span class=line><span class=cl><span class=n>inah_visitantes2022</span><span class=o>.</span><span class=n>iloc</span><span class=p>[</span><span class=mi>0</span><span class=p>,</span><span class=mi>3</span><span class=p>]</span> 
</span></span></code></pre></div><ol start=4><li>Mostrar una selección de filas, en orden.</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Mostrar las filas 0, 1 y 2</span>
</span></span><span class=line><span class=cl><span class=n>inah_visitantes2022</span><span class=o>.</span><span class=n>iloc</span><span class=p>[</span><span class=mi>0</span><span class=p>:</span><span class=mi>3</span><span class=p>]</span>
</span></span></code></pre></div><ol start=5><li>Mostrar selección de filas y de columnas</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Mostrar las primeras (0:2) filas, las primeras 3 columnas (0:3)</span>
</span></span><span class=line><span class=cl><span class=n>inah_visitantes2022</span><span class=o>.</span><span class=n>iloc</span><span class=p>[</span><span class=mi>0</span><span class=p>:</span><span class=mi>2</span><span class=p>,</span><span class=mi>0</span><span class=p>:</span><span class=mi>3</span><span class=p>]</span>
</span></span></code></pre></div><h2 id=agrupación-de-datos>Agrupación de datos</h2><p><a href=https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.groupby.html><strong>groupby()</strong></a>
es un método que permite agrupar datos por columnas y crear un DataFrame más
compacto.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Sintaxis</span>
</span></span><span class=line><span class=cl><span class=n>df</span><span class=o>.</span><span class=n>groupby</span><span class=p>(</span><span class=n>by</span> <span class=o>=</span> <span class=s2>&#34;columna&#34;</span><span class=p>)</span><span class=o>.</span><span class=n>funcion</span><span class=p>()</span>
</span></span></code></pre></div><p>Se requiere que definamos una función para que pandas pueda aplicar una
operación matemática para presentar los valores agrupados. La función puede ser:</p><ul><li>count() – Conteo</li><li>sum() – Suma</li><li>mean() – Media</li><li>median() – Mediana</li><li>min() – Valor mínimo</li><li>max() – Valor máximo</li><li>std() – Desviación tipica</li><li>var() – Varianza</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Agrupar datos por estado, sumando valores</span>
</span></span><span class=line><span class=cl><span class=n>inah_visitantes2022</span><span class=o>.</span><span class=n>groupby</span><span class=p>(</span><span class=n>by</span> <span class=o>=</span> <span class=s2>&#34;Estado&#34;</span><span class=p>)</span><span class=o>.</span><span class=n>sum</span><span class=p>()</span>
</span></span></code></pre></div><h2 id=remodelación-usando-melt>Remodelación usando &ldquo;Melt&rdquo;</h2><p>A veces necesitaremos de &ldquo;masajear&rdquo; un DataFrame para convertir de un formato
ancho a un formato largo. Esto se logra con el método
<a href=https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.melt.html><strong>melt()</strong></a>.
Este tipo de remodelación de DataFrames es de utilidad cuando se tienen una o
más columnas que pueden ser usadas como identificadores, y las demás columnas
como valores.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Remodelando el df</span>
</span></span><span class=line><span class=cl><span class=n>pd</span><span class=o>.</span><span class=n>melt</span><span class=p>(</span><span class=n>inah_visitantes2022</span><span class=p>)</span>
</span></span></code></pre></div><h2 id=ejercicios>Ejercicios</h2><p>Usando los datos en <code>estudiantes_mxuk.csv</code>, contestar las siguientes
preguntas.</p><ol><li>¿Cuántos estudiantes de Puebla estudian un posgrado?</li><li>¿Cuál es la edad promedio de los estudiantes que estudian un posgrado?</li><li>Seleccionar los registros que satisfagan las siguientes condiciones:<ul><li>Estudiantes mayores de 27 años y que no son de CDMX.</li><li>Estudiantes menores de 28 años y, que estudian en University of York y en
University of Sussex.</li></ul></li><li>Calcular (tal vez sea útil usar <code>groupby()</code>):<ul><li>Número de estudiantes por universidad</li><li>Número de estudiantes por estado</li><li>¿Cuál es la universidad con más estudiantes mexicanos?</li></ul></li></ol><h2 id=referencias>Referencias</h2><ul><li><p>Visitantes a museos y zonas arqueologicas abiertas al público. Datos abiertos
de México. Disponible en:
<a href=https://datos.gob.mx/busca/dataset/visitantes-a-museos-y-zonas-arqueologicas-abiertas-al-publico>https://datos.gob.mx/busca/dataset/visitantes-a-museos-y-zonas-arqueologicas-abiertas-al-publico</a></p></li><li><p>Estudiantes de posgrado en el Reino Unido. Sin publicar.</p></li><li><p>Filtrado y uso de query con pandas en Python. Naps Tecnología y educación.
Disponible en: <a href=https://naps.com.mx/blog/uso-de-query-con-pandas-en-python/>https://naps.com.mx/blog/uso-de-query-con-pandas-en-python/</a></p></li><li><p>Pandas I. Curso Ciencia de Datos con Python CIDE. Disponible en:
<a href=https://rafneta.github.io/CienciaDatosPythonCIDE/Laboratorios/Lab9/PandasI.html>https://rafneta.github.io/CienciaDatosPythonCIDE/Laboratorios/Lab9/PandasI.html</a></p></li><li><p>pandas documentation. the pandas development team. Disponible en:
<a href=https://pandas.pydata.org/pandas-docs/stable/>https://pandas.pydata.org/pandas-docs/stable/</a></p></li><li><p>How to use iloc and loc for indexing and slicing pandas dataframes. Marsja.
Disponible en: <a href=https://www.marsja.se/how-to-use-iloc-and-loc-for-indexing-and-slicing-pandas-dataframes/>https://www.marsja.se/how-to-use-iloc-and-loc-for-indexing-and-slicing-pandas-dataframes/</a></p></li></ul><footer class=footline></footer></article><article><h1>5. Visualización</h1><h2 id=introducción>Introducción</h2><p>La información que hemos procesado previamente se puede visualizar usando
gráficos. En esta sección veremos como crear gráficos profesionales con
matplotlib y seaborn.</p><p><strong>Datos</strong></p><p>Usaremos los siguientes archivos para los ejercicios de este tema:</p><div class="box attachments blue"><div class=box-label><i class="fas fa-paperclip fa-fw"></i> Archivos</div><ul class="box-content attachments-files"><li><a href=/datlab/dap101/5-visualizacion/files/aspirantes_inecol2020.csv>aspirantes_inecol2020.csv</a> (1 KB)</li><li><a href=/datlab/dap101/5-visualizacion/files/estudiantes_mxuk.csv>estudiantes_mxuk.csv</a> (9 KB)</li><li><a href=/datlab/dap101/5-visualizacion/files/inah_visitantes_2022.csv>inah_visitantes_2022.csv</a> (19 KB)</li></ul></div><p><strong>Librerías</strong></p><p>Usaremos las siguientes librerías para los ejercicios de este tema:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>pandas</span> <span class=k>as</span> <span class=nn>pd</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>matplotlib.pyplot</span> <span class=k>as</span> <span class=nn>plt</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>seaborn</span> <span class=k>as</span> <span class=nn>sns</span>
</span></span></code></pre></div><p><strong>Descripción de datos</strong></p><p>Estos son datos abiertos de aspirantes a posgrados ofrecidos en el Instituto de
Ecología, A.C. (INECOL). La descripción de las columnas es la siguiente:</p><table><thead><tr><th>Columna</th><th>Tipo de dato</th><th>Descripción</th></tr></thead><tbody><tr><td>id_aspirante</td><td>Numérico</td><td>Número de identificación interno asignado al aspirante</td></tr><tr><td>calificacion_ingles</td><td>Numérico</td><td>Calificación obtenida en prueba de inglés. Escala 0 - 10</td></tr><tr><td>calificacion_conocimientos_tecnicos</td><td>Numérico</td><td>Calificación obtenida en prueba conocimientos técnicos. Escala 0 - 10</td></tr><tr><td>entrevista</td><td>Numérico</td><td>Calificación obtenida en entrevista. Escala 0 - 10</td></tr><tr><td>desempeno_academico</td><td>Numérico</td><td>Calificación obtenida por desempeño académico. Escala 0 - 10</td></tr><tr><td>calificacion_final</td><td>Numérico</td><td>Calificación final asignada al aspirante. Escala 0 - 10</td></tr><tr><td>resultado</td><td>Texto</td><td>Resultado del proceso de admisión</td></tr></tbody></table><h2 id=matplotlib>matplotlib</h2><p>matplotlib es una librería de bajo nivel, es decir, necesitamos definir muchas
cosas, pero tendremos más libertad y flexibilidad en nuestros gráficos.
Revisaremos las gráficas de dispersión en este paquete.</p><h3 id=dispersión>Dispersión</h3><p>Vamos a utilizar datos artificiales de una variable <code>x</code>, y creamos dos funciones
de <code>x</code>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>numpy</span> <span class=k>as</span> <span class=nn>np</span> <span class=c1># Libreria para acceder a funciones matematicas</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>x</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>linspace</span><span class=p>(</span><span class=o>-</span><span class=mi>3</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>100</span><span class=p>)</span> <span class=c1># crear 100 valores en un rango -3 a 3</span>
</span></span><span class=line><span class=cl><span class=n>y1</span> <span class=o>=</span> <span class=mi>3</span><span class=o>*</span><span class=n>x</span>
</span></span><span class=line><span class=cl><span class=n>y2</span> <span class=o>=</span> <span class=n>x</span><span class=o>**</span><span class=mi>3</span> <span class=o>+</span> <span class=n>x</span><span class=o>**</span><span class=mi>2</span> <span class=o>-</span> <span class=n>x</span> <span class=o>+</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Crear un grafico con ambas curvas en el mismo eje</span>
</span></span><span class=line><span class=cl><span class=n>fig</span><span class=p>,</span> <span class=n>ax</span> <span class=o>=</span> <span class=n>plt</span><span class=o>.</span><span class=n>subplots</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>ax</span><span class=o>.</span><span class=n>plot</span><span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=n>y1</span><span class=p>,</span> <span class=s1>&#39;g--&#39;</span><span class=p>,</span> <span class=n>label</span><span class=o>=</span><span class=sa>r</span><span class=s1>&#39;$y_1$&#39;</span><span class=p>)</span> <span class=c1># Trazos</span>
</span></span><span class=line><span class=cl><span class=n>ax</span><span class=o>.</span><span class=n>plot</span><span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=n>y2</span><span class=p>,</span> <span class=s1>&#39;y.&#39;</span><span class=p>,</span> <span class=n>label</span><span class=o>=</span><span class=sa>r</span><span class=s1>&#39;$y_2$&#39;</span><span class=p>)</span> <span class=c1># Puntos</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># .legend() utiliza el argumento &#34;label&#34; para cada curva</span>
</span></span><span class=line><span class=cl><span class=n>ax</span><span class=o>.</span><span class=n>legend</span><span class=p>(</span><span class=n>loc</span><span class=o>=</span><span class=s1>&#39;lower right&#39;</span><span class=p>,</span> <span class=n>fontsize</span><span class=o>=</span><span class=mi>14</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Mostrar el grafico</span>
</span></span><span class=line><span class=cl><span class=n>plt</span><span class=o>.</span><span class=n>show</span><span class=p>()</span>
</span></span></code></pre></div><h2 id=seaborn>seaborn</h2><p>seaborn es una librería basada en matplotlib, pero es de alto nivel. Es decir,
no tendremos que escribir tanto para crear gráficos.</p><p>Ahora usaremos los datos de aspirantes a posgrado de INECOL, que están en el
archivo <code>aspirantes_inecol2020.csv</code>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Importar datos aspirantes INECOL</span>
</span></span><span class=line><span class=cl><span class=n>inecol_df</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>read_csv</span><span class=p>(</span><span class=s2>&#34;aspirantes_inecol2020.csv&#34;</span><span class=p>)</span>
</span></span></code></pre></div><h3 id=pairplot>Pairplot</h3><p>Este gráfico nos puede server para encontrar relaciones entre variables y como
primer paso en nuestro análisis de datos.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Dale unos segundos...</span>
</span></span><span class=line><span class=cl><span class=n>sns</span><span class=o>.</span><span class=n>pairplot</span><span class=p>(</span><span class=n>inecol_df</span><span class=p>)</span>
</span></span></code></pre></div><h3 id=gráfico-de-dispersión>Gráfico de dispersión</h3><p>En lugar de escribir un montón de código, seaborn tiene un método que simplifica
esta tarea. Al ser un gráfico de dispersión, no une los puntos.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Dispersion</span>
</span></span><span class=line><span class=cl><span class=n>sns</span><span class=o>.</span><span class=n>scatterplot</span><span class=p>(</span><span class=n>data</span> <span class=o>=</span> <span class=n>inecol_df</span><span class=p>,</span> <span class=n>x</span> <span class=o>=</span> <span class=s2>&#34;calificacion_ingles&#34;</span><span class=p>,</span> <span class=n>y</span> <span class=o>=</span> <span class=s2>&#34;calificacion_final&#34;</span><span class=p>)</span>
</span></span></code></pre></div><h3 id=gráfico-de-línea>Gráfico de línea</h3><p>Este gráfico es similar al de dispersión, pero en este gráfico, seaborn une los
puntos. Debido a que las medidas pueden ser ruidosas, seaborn estima la
tendencia central de los datos y es lo que nos muestra trazado en una línea.
Además, muestra el intervalo de confianza de 95% de dicha tendencia.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Lineplot</span>
</span></span><span class=line><span class=cl><span class=n>sns</span><span class=o>.</span><span class=n>lineplot</span><span class=p>(</span><span class=n>data</span> <span class=o>=</span> <span class=n>inecol_df</span><span class=p>,</span> <span class=n>x</span> <span class=o>=</span> <span class=s2>&#34;calificacion_ingles&#34;</span><span class=p>,</span> <span class=n>y</span> <span class=o>=</span> <span class=s2>&#34;calificacion_final&#34;</span><span class=p>)</span>
</span></span></code></pre></div><p>Esta gráfica puede graficar la desviación típica, en lugar del intervalo de
confianza, usando el argumento <code>ci = "sd"</code>, o no mostrar nada con <code>ci = None</code>.</p><h3 id=histograma>Histograma</h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Sintaxis</span>
</span></span><span class=line><span class=cl><span class=n>sns</span><span class=o>.</span><span class=n>histplot</span><span class=p>(</span><span class=n>data</span> <span class=o>=</span> <span class=n>df</span><span class=p>,</span> <span class=n>x</span> <span class=o>=</span> <span class=s2>&#34;columna&#34;</span><span class=p>,</span> <span class=n>stat</span><span class=p>,</span> <span class=n>kde</span><span class=p>)</span>
</span></span></code></pre></div><p>Un ejemplo de un histograma utilizando porcentaje como medida estadística.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>sns</span><span class=o>.</span><span class=n>histplot</span><span class=p>(</span><span class=n>data</span> <span class=o>=</span> <span class=n>inecol_df</span><span class=p>,</span> <span class=n>x</span> <span class=o>=</span> <span class=s2>&#34;calificacion_final&#34;</span><span class=p>,</span> <span class=n>stat</span> <span class=o>=</span> <span class=s2>&#34;percent&#34;</span><span class=p>)</span>
</span></span></code></pre></div><p>La medida estadística <code>stat</code> utilizada en el eje puede ser:</p><ul><li><code>count</code>: número de observaciones en cada segmento</li><li><code>frequency</code>: muestra el número de observaciones dividido entre el &ldquo;ancho&rdquo; (intervalo) del segmento</li><li><code>probability</code>: normaliza el eje para que la altura de las barras sumen 1</li><li><code>percent</code>: normaliza el eje para que la altura de las barras sumen 100</li><li><code>density</code>: normaliza el eje para que el total del área del histograma sea 1</li></ul><p><code>kde</code> es un parámetro opcional donde podemos obtener una distribución estimada
de los datos. Para activarlo pasamos el siguiente argumento cuando creemos el
objeto histoplot: <code>kde = True</code></p><h3 id=diagramas-de-caja-y-bigotes-boxplot>Diagramas de caja y bigotes (boxplot)</h3><p>Muestra la distribución de datos cuantitativos utilizando sus medidas de
localización.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Ver la distribución de calificaciones finales de los aspirantes con boxplot</span>
</span></span><span class=line><span class=cl><span class=c1># (Se ve mejor así, que si invirtieramos los ejes...)</span>
</span></span><span class=line><span class=cl><span class=n>sns</span><span class=o>.</span><span class=n>boxplot</span><span class=p>(</span><span class=n>data</span> <span class=o>=</span> <span class=n>inecol_df</span><span class=p>,</span> <span class=n>y</span> <span class=o>=</span> <span class=s2>&#34;resultado&#34;</span><span class=p>,</span> <span class=n>x</span> <span class=o>=</span> <span class=s2>&#34;calificacion_final&#34;</span><span class=p>,</span> <span class=n>whis</span> <span class=o>=</span> <span class=mf>1.5</span><span class=p>)</span>
</span></span></code></pre></div><p><code>whis</code> es un parámetro opcional que define la extensión de los &ldquo;bigotes&rdquo; de las
cajas, respecto al rango intercuartílico. En el ejemplo de arriba, 1.5 es 1.5
veces el rango intercuartílico.</p><h3 id=diagrama-de-violín>Diagrama de violín</h3><p>Visualización combinada de un diagrama de cajas y de la distribución estimada de
los datos.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Ver la distribución de calificaciones finales de los aspirantes con violinplot</span>
</span></span><span class=line><span class=cl><span class=n>sns</span><span class=o>.</span><span class=n>violinplot</span><span class=p>(</span><span class=n>data</span> <span class=o>=</span> <span class=n>inecol_df</span><span class=p>,</span> <span class=n>y</span> <span class=o>=</span> <span class=s2>&#34;resultado&#34;</span><span class=p>,</span> <span class=n>x</span> <span class=o>=</span> <span class=s2>&#34;calificacion_final&#34;</span><span class=p>)</span>
</span></span></code></pre></div><h3 id=gráfico-de-barras>Gráfico de barras</h3><p>Podemos agrupar los datos usando la columna &ldquo;resultado&rdquo;, contando el número de
registros.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Agrupar por Resultado y recrear el indice</span>
</span></span><span class=line><span class=cl><span class=n>inecol_resultado</span> <span class=o>=</span> <span class=n>inecol_df</span><span class=o>.</span><span class=n>groupby</span><span class=p>(</span><span class=n>by</span> <span class=o>=</span> <span class=s2>&#34;Resultado&#34;</span><span class=p>)</span><span class=o>.</span><span class=n>count</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Recrear el indice para que &#34;resultado&#34; no sea indice</span>
</span></span><span class=line><span class=cl><span class=n>inecol_resultado</span> <span class=o>=</span> <span class=n>inecol_resultado</span><span class=o>.</span><span class=n>reset_index</span><span class=p>()</span>
</span></span></code></pre></div><div class="box notices info"><div class=box-label><i class="fas fa-info-circle fa-fw"></i> ¿Por qué reset_index()?</div><div class=box-content><p>Al agrupar los valores con groupby(), la columna usada como argumento de <code>by</code> se
convierte en el índice del DataFrame compacto.</p><p>Si deseamos que el índice sea numérico y no la columna, la función
<a href=https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.reset_index.html><strong>reset_index()</strong></a>
nos sirve para recrear el índice numérico.</p></div></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Gráfico de barras resumiendo el resultado final de aspirantes</span>
</span></span><span class=line><span class=cl><span class=n>sns</span><span class=o>.</span><span class=n>barplot</span><span class=p>(</span><span class=n>data</span> <span class=o>=</span> <span class=n>inecol_resultado</span><span class=p>,</span> <span class=n>y</span> <span class=o>=</span> <span class=s2>&#34;resultado&#34;</span><span class=p>,</span> <span class=n>x</span> <span class=o>=</span> <span class=s2>&#34;calificacion_final&#34;</span><span class=p>)</span>
</span></span></code></pre></div><p>Usando los datos del INAH, creemos un gráfico de barras el número de centros
INAH por estado.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Usando los datos de visitantes a los centros INAH en 2022</span>
</span></span><span class=line><span class=cl><span class=n>inah_df</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>read_csv</span><span class=p>(</span><span class=s2>&#34;inah_visitantes_2022.csv&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Agrupando por estado y usando la función count()</span>
</span></span><span class=line><span class=cl><span class=n>inah_grouped</span> <span class=o>=</span> <span class=n>inah_df</span><span class=o>.</span><span class=n>groupby</span><span class=p>(</span><span class=n>by</span> <span class=o>=</span> <span class=s2>&#34;Estado&#34;</span><span class=p>)</span><span class=o>.</span><span class=n>count</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>inah_grouped</span> <span class=o>=</span> <span class=n>inah_grouped</span><span class=o>.</span><span class=n>reset_index</span><span class=p>()</span> <span class=c1># Para que Estado no sea índice/label</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Mostrar grafico</span>
</span></span><span class=line><span class=cl><span class=n>sns</span><span class=o>.</span><span class=n>barplot</span><span class=p>(</span><span class=n>data</span> <span class=o>=</span> <span class=n>inah_grouped</span><span class=p>,</span> <span class=n>x</span> <span class=o>=</span> <span class=s2>&#34;Tipo&#34;</span><span class=p>,</span> <span class=n>y</span> <span class=o>=</span> <span class=s2>&#34;Estado&#34;</span><span class=p>)</span>
</span></span></code></pre></div><div class="box notices tip"><div class=box-label><i class="fas fa-lightbulb fa-fw"></i> Histograma vs gráfico de barras</div><div class=box-content><p>Ambos gráficos parecen iguales, ambos usan barras, pero no son lo mismo.</p><p>Un histograma es un diagrama que muestra la frecuencia de datos numéricos,
mientras que el gráfico de barras compara tamaños de diferentes variables
categóricas.</p></div></div><h2 id=edición-de-gráficos>Edición de gráficos</h2><p>Modificar etiquetas de los ejes y exportar imagen como PNG.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Declarar el grafico</span>
</span></span><span class=line><span class=cl><span class=n>ax</span> <span class=o>=</span> <span class=n>sns</span><span class=o>.</span><span class=n>barplot</span><span class=p>(</span><span class=n>data</span> <span class=o>=</span> <span class=n>inah_grouped</span><span class=p>,</span> <span class=n>x</span> <span class=o>=</span> <span class=s2>&#34;Tipo&#34;</span><span class=p>,</span> <span class=n>y</span> <span class=o>=</span> <span class=s2>&#34;Estado&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Modificar las etiquetas de los ejes</span>
</span></span><span class=line><span class=cl><span class=n>ax</span><span class=o>.</span><span class=n>set_xlabel</span><span class=p>(</span><span class=s2>&#34;Estado&#34;</span><span class=p>,</span> <span class=n>fontsize</span> <span class=o>=</span> <span class=mi>12</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>ax</span><span class=o>.</span><span class=n>set_ylabel</span><span class=p>(</span><span class=s2>&#34;Número de Centros INAH&#34;</span><span class=p>,</span> <span class=n>fontsize</span> <span class=o>=</span> <span class=mi>12</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Ajustes para exportar imagen</span>
</span></span><span class=line><span class=cl><span class=n>plt</span><span class=o>.</span><span class=n>tight_layout</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>plt</span><span class=o>.</span><span class=n>savefig</span><span class=p>(</span><span class=s1>&#39;barplot_inah.png&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Mostrar imagen</span>
</span></span><span class=line><span class=cl><span class=n>plt</span><span class=o>.</span><span class=n>show</span><span class=p>()</span>
</span></span></code></pre></div><p>Girar ejes para mejorar la visualización.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Misma boxplot de calificaciones de INECOL pero ahora los ejes invertidos</span>
</span></span><span class=line><span class=cl><span class=n>sns</span><span class=o>.</span><span class=n>boxplot</span><span class=p>(</span><span class=n>data</span> <span class=o>=</span> <span class=n>inecol_df</span><span class=p>,</span> <span class=n>x</span> <span class=o>=</span> <span class=s2>&#34;resultado&#34;</span><span class=p>,</span> <span class=n>y</span> <span class=o>=</span> <span class=s2>&#34;calificacion_final&#34;</span><span class=p>,</span> <span class=n>whis</span> <span class=o>=</span> <span class=mf>1.5</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Rotamos las etiquetas del eje x, 45 grados</span>
</span></span><span class=line><span class=cl><span class=n>plt</span><span class=o>.</span><span class=n>xticks</span><span class=p>(</span><span class=n>rotation</span><span class=o>=</span><span class=mi>45</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>plt</span><span class=o>.</span><span class=n>show</span><span class=p>()</span>
</span></span></code></pre></div><h2 id=ejercicios>Ejercicios</h2><ol><li><p>Usando los datos <code>estudiantes_mxuk.csv</code>, crear gráficos que muestren:</p><ul><li>Distribución de edad por universidad.</li><li>Becas que tienen los estudiantes.</li></ul></li><li><p>Usando los datos <code>inah_visitantes_2022.csv</code>:</p><ul><li>¿Cuál es la visualización más representativa para mostrar el flujo de
visitantes en los meses reportados para un Centro INAH (o estado!)
determinado?</li></ul></li></ol><h2 id=referencias-y-material-adicional>Referencias y material adicional</h2><ul><li><p>Visitantes a museos y zonas arqueologicas abiertas al público. Datos abiertos
de México. Disponible en:
<a href=https://datos.gob.mx/busca/dataset/visitantes-a-museos-y-zonas-arqueologicas-abiertas-al-publico>https://datos.gob.mx/busca/dataset/visitantes-a-museos-y-zonas-arqueologicas-abiertas-al-publico</a></p></li><li><p>Selección de aspirantes. Datos abiertos de México. Disponible en:
<a href=https://datos.gob.mx/busca/dataset/seleccion-de-aspirantes>https://datos.gob.mx/busca/dataset/seleccion-de-aspirantes</a></p></li><li><p>Estudiantes de posgrado en el Reino Unido. Sin publicar.</p></li><li><p>The Python graph gallery. Disponible en: <a href=https://python-graph-gallery.com/>https://python-graph-gallery.com/</a></p></li><li><p>seaborn documentation. Michael Waskom. Disponible en:
<a href=https://seaborn.pydata.org/>https://seaborn.pydata.org/</a></p></li></ul><footer class=footline></footer></article><article><h1>6. Análisis estadístico</h1><h2 id=introducción>Introducción</h2><p>Python tiene bastantes librerías para realizar análisis estadístico. En esta
sección nos concentraremos en SciPy y statsmodels.</p><p><strong>Datos</strong></p><p>Usaremos los siguientes archivos para los ejercicios de este tema:</p><div class="box attachments blue"><div class=box-label><i class="fas fa-paperclip fa-fw"></i> Archivos</div><ul class="box-content attachments-files"><li><a href=/datlab/dap101/6-stats/files/edadpesograsas.txt>edadpesograsas.txt</a> (266 B)</li><li><a href=/datlab/dap101/6-stats/files/precipitacion_guerrero.csv>precipitacion_guerrero.csv</a> (3 KB)</li></ul></div><p><strong>Librerías</strong></p><p>Para esta sección usaremos las siguientes librerías:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>pandas</span> <span class=k>as</span> <span class=nn>pd</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>matplotlib.pyplot</span> <span class=k>as</span> <span class=nn>plt</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>seaborn</span> <span class=k>as</span> <span class=nn>sns</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>scipy.stats</span> <span class=k>as</span> <span class=nn>stats</span>
</span></span></code></pre></div><p><strong>Datos de precipitación</strong></p><p>Usaremos el archivo <code>precipitacion_guerrero.csv</code> que contiene datos históricos
mensuales y anuales de precipitación en Guerrero desde 1985 hasta 2020. Estos
datos usan comas para separar miles.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Datos precipitacion</span>
</span></span><span class=line><span class=cl><span class=n>precipitacion</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>read_csv</span><span class=p>(</span><span class=s2>&#34;precipitacion_guerrero.csv&#34;</span><span class=p>,</span> <span class=n>thousands</span> <span class=o>=</span> <span class=s2>&#34;,&#34;</span><span class=p>)</span>
</span></span></code></pre></div><p>Inspeccionamos las medidas de estadística descriptiva.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Estadistica descriptiva</span>
</span></span><span class=line><span class=cl><span class=n>precipitacion</span><span class=o>.</span><span class=n>describe</span><span class=p>()</span>
</span></span></code></pre></div><h2 id=prueba-de-normalidad>Prueba de normalidad</h2><p>Podemos observar normalidad utilizando histogramas como los que ofrece seaborn,
pero también podemos comprobar normalidad usando SciPy.</p><p>SciPy ofrece varias pruebas de normalidad, por ahora veremos la prueba
Shapiro-Wilk y D&rsquo;Agostino-Pearson en sus funciones
<a href=https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.shapiro.html><strong>stats.shapiro</strong></a> y
<a href=https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.normaltest.html><strong>stats.normaltest</strong></a>
respectivamente.</p><p>Ambas pruebas se definen con las siguientes hipótesis:</p><p>Hipotesis nula:
$$H_{0}: \text{La muestra proviene de una distribución normal} $$</p><p>Hipotesis alternativa:
$$H_{1}: \text{La muestra no proviene de una distribución normal} $$</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Sintaxis de prueba de Shapiro-Wilk</span>
</span></span><span class=line><span class=cl><span class=n>stats</span><span class=o>.</span><span class=n>shapiro</span><span class=p>(</span><span class=n>muestra</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Sintaxis de prueba D&#39;Agostino-Pearson</span>
</span></span><span class=line><span class=cl><span class=n>stats</span><span class=o>.</span><span class=n>normaltest</span><span class=p>(</span><span class=n>muestra</span><span class=p>)</span>
</span></span></code></pre></div><p>Para ambas pruebas, SciPy nos retornará el valor del estadístico y el valor-p</p><p>Hagamos una función para hacer prueba de normalidad con ambos métodos.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>normal_test</span><span class=p>(</span><span class=n>datos</span><span class=p>,</span> <span class=n>option</span> <span class=o>=</span> <span class=s2>&#34;shapiro&#34;</span><span class=p>):</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=n>option</span> <span class=o>!=</span> <span class=s2>&#34;shapiro&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>test</span> <span class=o>=</span> <span class=n>stats</span><span class=o>.</span><span class=n>normaltest</span><span class=p>(</span><span class=n>datos</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>test</span> <span class=o>=</span> <span class=n>stats</span><span class=o>.</span><span class=n>shapiro</span><span class=p>(</span><span class=n>datos</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=n>test</span><span class=o>.</span><span class=n>pvalue</span> <span class=o>&lt;</span> <span class=mf>0.05</span> <span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Rechazar hipotesis nula&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;No hay evidencia suficiente para rechazar hipotesis nula&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>test</span><span class=p>)</span>
</span></span></code></pre></div><p>Ahora comprobemos si los datos de precipitación del mes de julio provienen de
una distribución normal.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Prueba D&#39;Agostino-Pearson</span>
</span></span><span class=line><span class=cl><span class=n>normal_test</span><span class=p>(</span><span class=n>precipitacion</span><span class=p>[</span><span class=s2>&#34;JUL&#34;</span><span class=p>],</span> <span class=s2>&#34;dagostino&#34;</span><span class=p>)</span>
</span></span></code></pre></div><h2 id=pruebas-de-hipótesis>Pruebas de hipótesis</h2><h3 id=t-test>t-test</h3><h4 id=una-muestra>Una muestra</h4><p>Esta prueba nos sirve para determinar si la media de la población estudiada es
igual a un valor conocido.</p><p>$$\mu = \mu_{0}$$</p><p>Definimos la hipótesis nula como:</p><p>$$H_{0}: \mu = \mu_{0} $$</p><p>Dependiendo el tipo de hipótesis alternativa, podemos tener las siguientes
opciones:</p><p>$$H_{0}: \mu \neq \mu_{0} \ \ \ (\text{dos colas}) $$</p><p>$$H_{0}: \mu &lt; \mu_{0} \ \ o \ \ \mu > \mu_{0} \ \ \ (\text{una cola}) $$</p><p>Utilizaremos la función <a href=https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.ttest_1samp.html><strong>ttest_1samp</strong></a>
de SciPy.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># sintaxis</span>
</span></span><span class=line><span class=cl><span class=n>stats</span><span class=o>.</span><span class=n>ttest_1samp</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>popmean</span><span class=p>,</span> <span class=n>alternative</span><span class=p>)</span>
</span></span></code></pre></div><p>donde</p><p><code>a</code>: Muestra</p><p><code>popmean</code>: Valor de media conocido.</p><p><code>alternative</code>: Parámetro opcional donde se define la hipótesis alternativa. Las
opciones disponibles son &rsquo;two-sided&rsquo; (dos colas), &rsquo;less&rsquo; y &lsquo;greater&rsquo;. El valor
predeterminado es &rsquo;two-sided&rsquo;.</p><p>Hagamos una función para realizar la prueba de hipótesis.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>t_test_1samp</span><span class=p>(</span><span class=n>datos</span><span class=p>,</span> <span class=n>media</span><span class=p>):</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>test</span> <span class=o>=</span> <span class=n>stats</span><span class=o>.</span><span class=n>ttest_1samp</span><span class=p>(</span><span class=n>datos</span><span class=p>,</span> <span class=n>popmean</span> <span class=o>=</span> <span class=n>media</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=n>test</span><span class=o>.</span><span class=n>pvalue</span> <span class=o>&lt;</span> <span class=mf>0.05</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Rechazar hipótesis nula&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;No hay evidencia suficiente para rechazar hipótesis nula&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>test</span><span class=p>)</span>
</span></span></code></pre></div><p>Probemos si la media de precipitación en julio es igual a 150.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>t_test_1samp</span><span class=p>(</span><span class=n>precipitacion</span><span class=p>[</span><span class=s2>&#34;JUL&#34;</span><span class=p>],</span> <span class=mi>150</span><span class=p>)</span>
</span></span></code></pre></div><h4 id=dos-muestras-independientes>Dos muestras independientes</h4><p>Esta prueba nos sirve para comparar las medias de dos muestras independientes
<code>a</code> y <code>b</code>, y determinar si son iguales.</p><p>$$\mu_{a} = \mu_{b}$$</p><p>Definimos la hipótesis nula como:</p><p>$$H_{0}: \mu_{a} = \mu_{b} $$</p><p>Dependiendo el tipo de hipótesis alternativa, podemos tener las siguientes
opciones:</p><p>$$H_{1}: \mu_{a} \neq \mu_{b} \ \ \ (\text{dos colas}) $$
$$H_{1}: \mu_{a} &lt; \mu_{b} \ \ o \ \ \mu_{a} > \mu_{b} \ \ \ (\text{una cola}) $$</p><p>Utilizaremos la función <a href=https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.ttest_ind.html><strong>ttest_ind</strong></a> de SciPy.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># sintaxis</span>
</span></span><span class=line><span class=cl><span class=n>stats</span><span class=o>.</span><span class=n>ttest_ind</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>,</span> <span class=n>equal_var</span><span class=p>,</span> <span class=n>alternative</span><span class=p>)</span>
</span></span></code></pre></div><p>donde</p><p><code>a</code> y <code>b</code>: Muestras a contrastar</p><p><code>equal_var</code>: Parámetro opcional que define si las muestras tienen varianzas
iguales.En caso de que sean iguales, SciPy hará la prueba de hipótesis usando la
prueba t-Student. Si las varianzas no son iguales, SciPy usará la prueba Welch.
El valor predeterminado es True.</p><p><code>alternative</code>: Parámetro opcional donde se define la hipótesis alternativa. Las
opciones disponibles son &rsquo;two-sided&rsquo;, &rsquo;less&rsquo; y &lsquo;greater&rsquo;. El valor
predeterminado es &rsquo;two-sided&rsquo;.</p><p>SciPy nos retornará el estadístico y el valor-p.</p><p>Hagamos una pequeña función.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>t_test</span><span class=p>(</span><span class=n>muestra_a</span><span class=p>,</span> <span class=n>muestra_b</span><span class=p>,</span> <span class=n>equal_var</span><span class=p>):</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>t_test</span> <span class=o>=</span> <span class=n>stats</span><span class=o>.</span><span class=n>ttest_ind</span><span class=p>(</span><span class=n>a</span> <span class=o>=</span> <span class=n>muestra_a</span><span class=p>,</span> <span class=n>b</span> <span class=o>=</span> <span class=n>muestra_b</span><span class=p>,</span> <span class=n>equal_var</span><span class=o>=</span> <span class=n>equal_var</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=n>t_test</span><span class=o>.</span><span class=n>pvalue</span> <span class=o>&lt;</span> <span class=mf>0.05</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Rechazar hipótesis nula&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;No hay evidencia suficiente para rechazar hipótesis nula&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>t_test</span><span class=p>)</span>
</span></span></code></pre></div><p>Probemos contrastando las medias de precipitación de enero y marzo.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>t_test</span><span class=p>(</span><span class=n>precipitacion</span><span class=p>[</span><span class=s2>&#34;ENE&#34;</span><span class=p>],</span> <span class=n>precipitacion</span><span class=p>[</span><span class=s2>&#34;MAR&#34;</span><span class=p>],</span> <span class=kc>True</span><span class=p>)</span>
</span></span></code></pre></div><p>Ahora probemos contrastando las medidas de precipitación de enero y julio. Es
importante recordar que la varianza entre ambos meses no es igual.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>t_test</span><span class=p>(</span><span class=n>precipitacion</span><span class=p>[</span><span class=s2>&#34;ENE&#34;</span><span class=p>],</span> <span class=n>precipitacion</span><span class=p>[</span><span class=s2>&#34;JUL&#34;</span><span class=p>],</span> <span class=kc>False</span><span class=p>)</span>
</span></span></code></pre></div><h4 id=dos-muestras-dependientes-prueba-t-pareada>Dos muestras dependientes (Prueba t pareada)</h4><p>Esta prueba nos sirve para comparar las medias de dos muestras dependientes
<code>a</code> y <code>b</code>, y determinar si son iguales. Se considera que dos muestras son
dependientes o pareadas cuando existe una relación entre las observaciones. Por
ejemplo:</p><ul><li>Comprobar el nivel de satisfacción del mismo grupo de clientes, antes y después,
de cambiar detalles en el servicio.</li><li>Comparar el progreso del mismo grupo de pacientes, antes y después, de
introducir un medicamento en su tratamiento.</li></ul><p>En esta prueba se contrasta la diferencia entre las medias $\mu_d$. Si son
iguales, la diferencia será igual a 0.</p><p>Entonces, las hipótesis contrastadas son:</p><p>$$H_{0}: \mu_{d} = 0$$
$$H_{1}: \mu_{d} \neq 0$$</p><p>Es importante destacar que para que este tipo de pruebas sean relevantes, los
datos deben provenir de una distribución normal. Sin embargo, no es necesario
que las varianzas sean iguales.</p><p>SciPy tiene la función <a href=https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.ttest_rel.html><strong>ttest_rel</strong></a>
para realizar este tipo de pruebas.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># sintaxis</span>
</span></span><span class=line><span class=cl><span class=n>stats</span><span class=o>.</span><span class=n>ttest_rel</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>,</span> <span class=n>alternative</span><span class=p>)</span>
</span></span></code></pre></div><p>donde</p><p><code>a</code> y <code>b</code>: Muestras a contrastar.</p><p><code>alternative</code>: Parámetro opcional donde se define la hipótesis alternativa. Las
opciones disponibles son &rsquo;two-sided&rsquo;, &rsquo;less&rsquo; y &lsquo;greater&rsquo;. El valor
predeterminado es &rsquo;two-sided&rsquo;.</p><p>Escribimos una función para realizar esta prueba.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>t_test_dep</span><span class=p>(</span><span class=n>muestra_a</span><span class=p>,</span> <span class=n>muestra_b</span><span class=p>):</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>t_test</span> <span class=o>=</span> <span class=n>stats</span><span class=o>.</span><span class=n>ttest_rel</span><span class=p>(</span><span class=n>a</span> <span class=o>=</span> <span class=n>muestra_a</span><span class=p>,</span> <span class=n>b</span> <span class=o>=</span> <span class=n>muestra_b</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=n>t_test</span><span class=o>.</span><span class=n>pvalue</span> <span class=o>&lt;</span> <span class=mf>0.05</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Rechazar hipotesis nula&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;No hay evidencia suficiente para rechazar hipotesis nula&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>t_test</span><span class=p>)</span>
</span></span></code></pre></div><p>Probemos esta función con los valores de medias de precipitación en julio.
Dividiremos la columna en dos series. Una serie para años anteriores a 2003, y
otra serie para años posteriores a 2003.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Obtenemos los valores de precipitacion en julio, y los dividimos en dos partes</span>
</span></span><span class=line><span class=cl><span class=n>julio_85_02</span> <span class=o>=</span> <span class=n>precipitacion</span><span class=o>.</span><span class=n>query</span><span class=p>(</span><span class=s1>&#39;PERIODO &lt;= 2002&#39;</span><span class=p>)[</span><span class=s2>&#34;JUL&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>julio_03_20</span> <span class=o>=</span> <span class=n>precipitacion</span><span class=o>.</span><span class=n>query</span><span class=p>(</span><span class=s1>&#39;PERIODO &gt;= 2003&#39;</span><span class=p>)[</span><span class=s2>&#34;JUL&#34;</span><span class=p>]</span>
</span></span></code></pre></div><p>Ahora, probemos nuestra función.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># H0: La diferencia de medias es igual a 0</span>
</span></span><span class=line><span class=cl><span class=c1># H1: La diferencia de medias no es igual a 0</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>t_test_dep</span><span class=p>(</span><span class=n>julio_85_02</span><span class=p>,</span> <span class=n>julio_03_20</span><span class=p>)</span>
</span></span></code></pre></div><h2 id=prueba-de-levene-homogeneidad-de-varianzas>Prueba de Levene (Homogeneidad de varianzas)</h2><p>La prueba de Levene es una prueba utilizada para evaluar la igualdad
(homogeneidad) de las varianzas para una variable calculada para dos o más
grupos. La prueba de Levene está definida como:</p><p>$$H_{0}: \sigma_{a} = \sigma_{b} = \sigma_{c} = &mldr; $$
$$H_{1}: \sigma_{a} \neq \sigma_{b} \neq \sigma_{c} \neq &mldr; \ \ \text{para al menos un par} $$</p><p>SciPy tiene implementada esta prueba en su función
<a href=https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.levene.html><strong>stats.levene</strong></a>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Sintaxis</span>
</span></span><span class=line><span class=cl><span class=n>stats</span><span class=o>.</span><span class=n>levene</span><span class=p>(</span><span class=o>*</span><span class=n>muestras</span><span class=p>,</span> <span class=n>center</span><span class=p>)</span>
</span></span></code></pre></div><p>donde</p><p><code>muestras</code>: las muestras a contrastar sus varianzas</p><p><code>center</code>: este parámetro indica la medida de localización para centrar las
muestras. Los valores posibles son:</p><ul><li><p><code>median</code> - para muestras que provienen de distribuciones asimétricas. Este es
el valor predeterminado.</p></li><li><p><code>mean</code> - para muestras que provienen de distribuciones simétricas</p></li><li><p><code>trimmed</code> - para muestras que provienen de distribuciones con colas largas
(p. ej. distribución Cauchy)</p></li></ul><p>SciPy nos retornará el estadístico y el valor-p.</p><p>Hagamos una pequeña función para verificar si las varianzas de la precipitación
promedio de los meses enero y marzo son iguales.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>levene_test</span><span class=p>(</span><span class=n>muestra_a</span><span class=p>,</span> <span class=n>muestra_b</span><span class=p>,</span> <span class=n>center</span><span class=p>):</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>levene_test</span> <span class=o>=</span> <span class=n>stats</span><span class=o>.</span><span class=n>levene</span><span class=p>(</span><span class=n>muestra_a</span><span class=p>,</span> <span class=n>muestra_b</span><span class=p>,</span> <span class=n>center</span><span class=o>=</span> <span class=n>center</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=n>levene_test</span><span class=o>.</span><span class=n>pvalue</span> <span class=o>&lt;</span> <span class=mf>0.05</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Rechazar hipotesis nula&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;No hay evidencia suficiente para rechazar hipotesis nula&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>levene_test</span><span class=p>)</span>
</span></span></code></pre></div><p>Como prueba de cordura, veamos las distribuciones de la precipitación en ambos
meses usando histogramas.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>sns</span><span class=o>.</span><span class=n>histplot</span><span class=p>(</span><span class=n>precipitacion</span><span class=p>[</span><span class=s2>&#34;ENE&#34;</span><span class=p>])</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>sns</span><span class=o>.</span><span class=n>histplot</span><span class=p>(</span><span class=n>precipitacion</span><span class=p>[</span><span class=s2>&#34;MAR&#34;</span><span class=p>])</span>
</span></span></code></pre></div><p>Ahora hagamos la prueba de Levene.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>levene_test</span><span class=p>(</span><span class=n>precipitacion</span><span class=p>[</span><span class=s2>&#34;ENE&#34;</span><span class=p>],</span> <span class=n>precipitacion</span><span class=p>[</span><span class=s2>&#34;MAR&#34;</span><span class=p>],</span> <span class=s2>&#34;median&#34;</span><span class=p>)</span>
</span></span></code></pre></div><h2 id=regresión-lineal>Regresión lineal</h2><p>La regresión lineal es un instrumento matemático usado para modelar las
relaciones entre una variable dependiente (o variable de respuesta), y una o más
variables independientes (o variables explicatorias). El modelo lineal tiene la
siguiente forma,</p><p>$$y = \beta_{0} + \beta_{i}x_i + &mldr; + \epsilon_i \ \ \ \ \ i = 1, &mldr; n $$</p><p>donde,</p><p>$\beta_i$ representan los coeficientes que describen la relación o la influencia
que tiene la variable $x_i$ sobre la variable dependiente.</p><p>$\beta_0$ representa el intercepto. Este valor describe la relación entre la
variable dependiente y las variables independientes $x_i$, cuando $x_i$ = 0.</p><p>$x_i$ son las variables independientes utilizadas en el modelo.</p><p>$\epsilon_i$ representa el error aleatorio que se introduce en el modelo por cada
variable independiente $x_i$. Estos errores son independientes y siguen una
distribución normal. $\epsilon_i \sim \mathcal{N}(0, \sigma^2) $</p><h3 id=mínimos-cuadrados-ordinarios>Mínimos cuadrados ordinarios</h3><p>Existen distintos métodos para determinar los coeficientes $\beta$, uno de ellos es
mínimos cuadrados ordinarios. <strong>statsmodels</strong> es una librería de Python que
contiene una colección grande de modelos estadísticos. Para ajustar un modelo
lineal usando mínimos cuadrados ordinarios, usaremos la función
<a href=https://www.statsmodels.org/devel/generated/statsmodels.formula.api.ols.html><strong>ols</strong></a>
(ordinary least squares, en inglés).</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>statsmodels.formula.api</span> <span class=kn>import</span> <span class=n>ols</span>
</span></span></code></pre></div><p>Ahora usaremos los datos <code>edadpesograsas.txt</code> que nos servirá para entender el
uso de <strong>ols</strong>. Este archivo contiene información de edad, peso y cantidad de
grasas en 25 pacientes.</p><p>Lo primero que haremos es importar los datos. Como estos datos provienen de un
archivo de texto (*.txt), usaremos ahora el método
<a href=https://pandas.pydata.org/docs/reference/api/pandas.read_table.html><strong>read_table()</strong></a>
de pandas. El separador usado en este archivo es un tabulador. Daremos esta
información al método para que el archivo se importe correctamente:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Importar datos</span>
</span></span><span class=line><span class=cl><span class=n>edad_peso</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>read_table</span><span class=p>(</span><span class=s2>&#34;edadpesograsas.txt&#34;</span><span class=p>,</span> <span class=n>sep</span><span class=o>=</span><span class=s2>&#34;</span><span class=se>\t</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span></code></pre></div><p>La sintaxis de <code>ols</code> es la siguiente:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>model</span> <span class=o>=</span> <span class=n>ols</span><span class=p>(</span><span class=s1>&#39;variable_dependiente ~ variable1 + variable2 + ... +&#39;</span><span class=p>,</span> <span class=n>df</span><span class=p>)</span><span class=o>.</span><span class=n>fit</span><span class=p>()</span>
</span></span></code></pre></div><p>Intentemos modelar la cantidad de grasas respecto a la edad:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>model</span> <span class=o>=</span> <span class=n>ols</span><span class=p>(</span><span class=s1>&#39;grasas ~ edad&#39;</span><span class=p>,</span> <span class=n>edad_peso</span><span class=p>)</span><span class=o>.</span><span class=n>fit</span><span class=p>()</span>
</span></span></code></pre></div><p>Para revisar la información del modelo de regresion, usamos el método <strong>summary()</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Ver resultados</span>
</span></span><span class=line><span class=cl><span class=n>model</span><span class=o>.</span><span class=n>summary</span><span class=p>()</span>
</span></span></code></pre></div><p>Ahora agreguemos la variable peso al modelo de regresión:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>model</span> <span class=o>=</span> <span class=n>ols</span><span class=p>(</span><span class=s1>&#39;grasas ~ edad + peso&#39;</span><span class=p>,</span> <span class=n>edad_peso</span><span class=p>)</span><span class=o>.</span><span class=n>fit</span><span class=p>()</span>
</span></span></code></pre></div><p>¿Mejoró el modelo?</p><div class="box notices tip"><div class=box-label><i class="fas fa-lightbulb fa-fw"></i> Regresión paso a paso</div><div class=box-content><p>Lo que acabamos de hacer se llama regresión paso a paso (<em>stepwise regression</em>,
en inglés). Esta metodología es iterativa, pues implica seleccionar variables
de forma automática y ver como mejora (o empeora) el modelo. Existen dos tipos
de selección:</p><ul><li><p>Selección hacia adelante (<em>Forward selection</em>, en inglés): En este tipo de
selección, el modelo se inicia sin ninguna variable. Después se agrega una
variable a la vez y se prueba si mejoró la calidad del modelo con la inclusión
de dicha variable.</p></li><li><p>Selección hacia atrás (<em>Backward selection</em>, en inglés) En este tipo de
selección, se inicia con un modelo que incluye todas las variables. Después se
elimina una variable a la vez y se prueba si mejoró la calidad del modelo con la
eliminación de dicha variable.</p></li></ul><p>Este método es adecuado cuando se tiene una cantidad significativa de variables
que explican el fenómeno a modelar y se desea empezar a eliminar variables
irrelevantes. Sin embargo, siempre se preferirá analizar y entender los datos
antes de crear modelos.</p></div></div><p>Con esto concluimos este tema.</p><h2 id=referencias-y-material-adicional>Referencias y material adicional</h2><ul><li><p>Precipitacion. CONAGUA. Datos abiertos de México. Disponible en:
<a href=https://datos.gob.mx/busca/dataset/precipitacion>https://datos.gob.mx/busca/dataset/precipitacion</a></p></li><li><p>Datos para la docencia. José Ramón Berrendero Díaz. Disponible en:
<a href=https://verso.mat.uam.es/~joser.berrendero/datos.html>https://verso.mat.uam.es/~joser.berrendero/datos.html</a></p></li><li><p>SciPy documentation. The SciPy community. Disponible en:
<a href=https://docs.scipy.org/doc/scipy/>https://docs.scipy.org/doc/scipy/</a></p></li><li><p>T-test con Python. Ciencia de datos. Disponible en:
<a href=https://www.cienciadedatos.net/documentos/pystats10-t-test-python.html>https://www.cienciadedatos.net/documentos/pystats10-t-test-python.html</a></p></li><li><p>Statistics in Python. Scipy lecture notes. Disponible en:
<a href=https://scipy-lectures.org/packages/statistics/index.html>https://scipy-lectures.org/packages/statistics/index.html</a></p></li><li><p>Statistical hypothesis tests in Python cheat sheet. Machine learning mastery.
Disponible en:
<a href=https://machinelearningmastery.com/statistical-hypothesis-tests-in-python-cheat-sheet/>https://machinelearningmastery.com/statistical-hypothesis-tests-in-python-cheat-sheet/</a></p></li></ul><footer class=footline></footer></article><article><h1>7. Recapitulación</h1><h2 id=introducción>Introducción</h2><p>Ahora que hemos aprendido sobre como usar las librerías de manipulación de datos,
visualizaciónes y análisis estadístico, haremos un pequeño ejercicio.</p><p><strong>Datos</strong></p><p>Usaremos el siguiente archivo para recapitular todo lo aprendido:</p><div class="box attachments blue"><div class=box-label><i class="fas fa-paperclip fa-fw"></i> Archivos</div><ul class="box-content attachments-files"><li><a href=/datlab/dap101/7-proyecto/files/endutih_vivienda_anual_2019_enc.csv>endutih_vivienda_anual_2019_enc.csv</a> (992 KB)</li></ul></div><p>Estos son datos recopilados por INEGI en su encuesta ENDUTIH de 2019. La
descripción de las columnas es la siguiente:</p><table><thead><tr><th>Variable</th><th>Tipo variable</th><th>Descripción pregunta</th></tr></thead><tbody><tr><td>energia_electrica</td><td>Binaria</td><td>La vivienda dispone de energía eléctrica</td></tr><tr><td>refrigerador</td><td>Binaria</td><td>La vivienda dispone de refrigerador</td></tr><tr><td>lavadora</td><td>Binaria</td><td>La vivienda dispone de lavadora</td></tr><tr><td>auto_propio</td><td>Binaria</td><td>Las personas viviendo en esta vivienda disponen de automóvil o camioneta</td></tr><tr><td>personas_vivienda</td><td>Numérica</td><td>Número de personas viviendo normalmente en la vivienda</td></tr><tr><td>mismo_gasto</td><td>Binaria</td><td>El gasto para comer de todas las personas viviendo en la vivienda es el mismo</td></tr><tr><td>TLOC</td><td>Numérica (ordinal)</td><td>Tamaño de la Localidad (1: 100 000 y más habitantes, 2: 15 000 a 99 999 habitantes, 3: 2 500 a 14 999 habitantes, 4: menor a 2500 habitantes)</td></tr><tr><td>ESTRATO</td><td>Numérica (ordinal)</td><td>Estrato socioeconómico. (1: Bajo, 2: Medio bajo, 3: Medio alto, 4: Alto)</td></tr><tr><td>material_1</td><td>Binaria</td><td>El material predominante del piso de esta vivienda es tierra</td></tr><tr><td>material_2</td><td>Binaria</td><td>El material predominante del piso de esta vivienda es cemento</td></tr><tr><td>material_3</td><td>Binaria</td><td>El material predominante del piso de esta vivienda es madera, mosaico u otro</td></tr><tr><td>fuente_agua_1</td><td>Binaria</td><td>La fuente de agua es agua entubada dentro de la vivienda</td></tr><tr><td>fuente_agua_2</td><td>Binaria</td><td>La fuente de agua es agua entubada fuera de la vivienda, pero dentro del terreno</td></tr><tr><td>fuente_agua_3</td><td>Binaria</td><td>La fuente de agua es agua entubada de llave pública (o hidrante)</td></tr><tr><td>fuente_agua_4</td><td>Binaria</td><td>La fuente de agua es agua entubada que acarrean de otra vivienda</td></tr><tr><td>fuente_agua_5</td><td>Binaria</td><td>La fuente de agua es agua de pipa</td></tr><tr><td>fuente_agua_6</td><td>Binaria</td><td>La fuente de agua de la vivienda es agua de un pozo, río, arroyo, lago u otro</td></tr><tr><td>conexion_drenaje_1</td><td>Binaria</td><td>La vivienda tiene drenaje o desagüe conectado a la red pública</td></tr><tr><td>conexion_drenaje_2</td><td>Binaria</td><td>La vivienda tiene drenaje o desagüe conectado a una fosa séptica</td></tr><tr><td>conexion_drenaje_3</td><td>Binaria</td><td>La vivienda tiene drenaje o desagüe conectado a una tubería que va a dar a una barranca o grieta</td></tr><tr><td>conexion_drenaje_4</td><td>Binaria</td><td>La vivienda tiene drenaje o desagüe conectado a una tubería que va a dar a un río, lago o mar</td></tr><tr><td>conexion_drenaje_5</td><td>Binaria</td><td>La vivienda no tiene drenaje o desagüe</td></tr><tr><td>tipo_poblacion_R</td><td>Binaria</td><td>La vivienda se encuentra en una población rural</td></tr><tr><td>tipo_poblacion_U</td><td>Binaria</td><td>La vivienda se encuentra en una población urbana</td></tr></tbody></table><h2 id=inspección-de-datos>Inspección de datos</h2><p>Empezamos importando las librerías que usaremos y los datos.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>pandas</span> <span class=k>as</span> <span class=nn>pd</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>seaborn</span> <span class=k>as</span> <span class=nn>sns</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>matplotlib.pyplot</span> <span class=k>as</span> <span class=nn>plt</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>statsmodels.formula.api</span> <span class=kn>import</span> <span class=n>ols</span>
</span></span></code></pre></div><p>Ahora importemos los datos y revisemos el tamaño del DataFrame.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>encuesta_vivienda</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>read_csv</span><span class=p>(</span><span class=s2>&#34;endutih_vivienda_anual_2019_enc.csv&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>encuesta_vivienda</span><span class=o>.</span><span class=n>shape</span>
</span></span></code></pre></div><p>Esto nos devuelve la tupla (21163, 24). Es un set de datos grande. Pero no es
problema para Python.</p><h3 id=análisis-exploratorio>Análisis exploratorio</h3><p>Ahora veamos las medidas de estadistíca descriptiva.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>encuesta_vivienda</span><span class=o>.</span><span class=n>describe</span><span class=p>()</span>
</span></span></code></pre></div><p>Tal vez estos resultados no nos ayuden mucho puesto que son datos con mayormente
variables binarias (0 y 1).</p><h4 id=matriz-de-correlaciones>Matriz de correlaciones</h4><p>La matriz de correlaciones se puede obtener con pandas usando el método
<a href=https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.corr.html><strong>corr()</strong></a>.
Las correlaciones pueden calcularse usando distintos métodos como Pearson,
Spearman y Kendall usando el argumento <code>method</code>.</p><p>Para este caso, utilizaremos Spearman como método puesto que la mayor parte de
las variables son binarias y sólo dos son de tipo ordinal.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>corr_matrix</span> <span class=o>=</span> <span class=n>encuesta_vivienda</span><span class=o>.</span><span class=n>corr</span><span class=p>(</span><span class=n>method</span> <span class=o>=</span> <span class=s2>&#34;spearman&#34;</span><span class=p>)</span>
</span></span></code></pre></div><p>Esto nos devuelve otro DataFrame con la matriz de correlaciones. Este nuevo
DataFrame tiene un tamaño de 24 x 24.</p><h4 id=visualizaciones>Visualizaciones</h4><p>Podemos ver la matriz de correlaciones con una visualización llamada
<a href=https://seaborn.pydata.org/generated/seaborn.heatmap.html><strong>heatmap</strong></a>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Heatmap</span>
</span></span><span class=line><span class=cl><span class=n>plt</span><span class=o>.</span><span class=n>figure</span><span class=p>(</span><span class=n>figsize</span> <span class=o>=</span> <span class=p>(</span><span class=mi>18</span><span class=p>,</span><span class=mi>12</span><span class=p>))</span> <span class=c1># Hacer más grande la figura</span>
</span></span><span class=line><span class=cl><span class=n>sns</span><span class=o>.</span><span class=n>heatmap</span><span class=p>(</span><span class=n>corr_matrix</span><span class=p>,</span> <span class=n>annot</span> <span class=o>=</span> <span class=kc>True</span><span class=p>,</span> <span class=n>cmap</span> <span class=o>=</span> <span class=s2>&#34;Blues&#34;</span><span class=p>)</span>
</span></span></code></pre></div><p>Hemos pasado un par de argumentos nuevos. <code>annot</code> nos reportará el valor del
factor de correlación en la visualización. <code>cmap</code> es el mapa de colores que
que seaborn usará. Para mejorar la vista, hemos usado la paleta Blues. Si el
factor de correlación se acerca más al valor 1, el cuadro tendrá un color azul
más fuerte. Si te interesa ver más opciones puedes ver la documentación de
<a href=https://matplotlib.org/stable/tutorials/colors/colormaps.html>colormaps</a> de
matplotlib.</p><p>Adicionalmente, por ser una visualización de 24x24, el tamaño de la figura debe
ser más grande.</p><p>Enfoquémonos en las variables <strong>ESTRATO</strong> y <strong>TLOC</strong>, que son numéricas.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>sns</span><span class=o>.</span><span class=n>histplot</span><span class=p>(</span><span class=n>encuesta_vivienda</span><span class=p>[</span><span class=s2>&#34;ESTRATO&#34;</span><span class=p>])</span>
</span></span></code></pre></div><p>Podemos ver que es una variable discreta, puesto que tiene valores enteros que
van del 1 al 5. Podemos ver que hay menos personas con un estrato 4 (estrato
alto), mientras que la mayor parte de las respuestas tienen un estrato 2
(estrato medio bajo).</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>sns</span><span class=o>.</span><span class=n>histplot</span><span class=p>(</span><span class=n>encuesta_vivienda</span><span class=p>[</span><span class=s2>&#34;TLOC&#34;</span><span class=p>])</span>
</span></span></code></pre></div><p>De igual manera, TLOC es una variable discreta. Los grupos de encuestados más
representativos en la muestra, son de localidades con 100,000 y más habitantes,
y de localidades con menos de 2500 habitantes.</p><p>Tracemos una recta entre ambas variables para encontrar más relaciones.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>sns</span><span class=o>.</span><span class=n>lineplot</span><span class=p>(</span><span class=n>data</span> <span class=o>=</span> <span class=n>encuesta_vivienda</span><span class=p>,</span> <span class=n>x</span> <span class=o>=</span> <span class=s2>&#34;TLOC&#34;</span><span class=p>,</span> <span class=n>y</span> <span class=o>=</span> <span class=s2>&#34;ESTRATO&#34;</span><span class=p>)</span>
</span></span></code></pre></div><p>Podemos ver que conforme aumenta TLOC, ESTRATO decrece. Parece tener sentido.</p><h2 id=modelo-de-regresión-lineal>Modelo de regresión lineal</h2><p>Nos interesa entender cuáles son las variables que definen el estrato
socioeconómico de una familia.</p><p>Podríamos empezar haciendo un modelo usando regresión paso a paso. O también,
usando las variables que tienen más correlación con el estrato socioeconómico.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Ajuste de datos </span>
</span></span><span class=line><span class=cl><span class=n>formula</span> <span class=o>=</span> <span class=s2>&#34;ESTRATO ~ material_3 + fuente_agua_1 + TLOC + tipo_poblacion_U + </span><span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span><span class=s2>        conexion_drenaje_1 + refrigerador + lavadora + auto_propio&#34;</span>
</span></span><span class=line><span class=cl><span class=n>modelo_ols</span> <span class=o>=</span> <span class=n>ols</span><span class=p>(</span><span class=n>formula</span><span class=p>,</span> <span class=n>encuesta_vivienda</span><span class=p>)</span><span class=o>.</span><span class=n>fit</span><span class=p>()</span>
</span></span></code></pre></div><div class="box notices tip"><div class=box-label><i class="fas fa-lightbulb fa-fw"></i> Trivia</div><div class=box-content><p>¿Por qué no agregar tipo_poblacion_R también?</p></div></div><p>Con este modelo, estamos teorizando que el estrato depende de dichas variables.
Inspeccionemos el modelo.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Revisar modelo</span>
</span></span><span class=line><span class=cl><span class=n>modelo_ols</span><span class=o>.</span><span class=n>summary</span><span class=p>()</span>
</span></span></code></pre></div><p>Obtuvimos un modelo con un $R^2$ ajustado de 0.527. Adicionalmente, statsmodels
nos devuelve los parámetros $\beta_i$ con su respectivo intervalo de confianza,
y una prueba t sobre cada parámetro.</p><div class="box notices info"><div class=box-label><i class="fas fa-info-circle fa-fw"></i> Prueba t en coeficientes de regresión</div><div class=box-content><p>La prueba t contrasta si el parámetro $\beta_i$ calculado es relevante para
ajustar los datos o no. Las hipótesis están definidas como:</p><p>$$H_0: \beta_i = 0 $$
$$H_1: \beta_i \neq 0 $$</p><p>Asimismo, nos regresa los valores-p de dicha prueba. (¿Cuándo rechazábamos la
hipótesis nula?)</p></div></div><h3 id=evaluación-del-modelo>Evaluación del modelo</h3><p>Veamos qué tal predice nuestro modelo el estrato socioeconómico.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Guardamos la predicción del modelo en una Serie</span>
</span></span><span class=line><span class=cl><span class=n>Y_pred</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>Series</span><span class=p>(</span><span class=n>modelo_ols</span><span class=o>.</span><span class=n>predict</span><span class=p>())</span>
</span></span></code></pre></div><p>Juntemos las series usando el método
<a href=https://pandas.pydata.org/docs/reference/api/pandas.concat.html><strong>concat()</strong></a>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>comparison</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>concat</span><span class=p>([</span><span class=n>encuesta_vivienda</span><span class=p>[</span><span class=s2>&#34;ESTRATO&#34;</span><span class=p>],</span> <span class=n>Y_pred</span><span class=p>],</span> <span class=n>keys</span> <span class=o>=</span> <span class=p>[</span><span class=s2>&#34;ESTRATO&#34;</span><span class=p>,</span> <span class=s2>&#34;ESTRATO_p&#34;</span><span class=p>],</span> <span class=n>axis</span> <span class=o>=</span> <span class=mi>1</span><span class=p>)</span>
</span></span></code></pre></div><p>Ahora calculemos columnas de error. El error se define como la diferencia del
valor observado $y_i$ menos valor predecido $\hat{y}_i$.</p><ul><li>Error: $y_i - \hat{y}_i$</li><li>Error cuadrado: $(y_i - \hat{y}_i)^2$</li><li>Error absoluto: $| y_i - \hat{y}_i |$</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Crear columnas con errores</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>calculate_errors</span><span class=p>(</span><span class=n>df</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>df</span><span class=p>[</span><span class=s2>&#34;error&#34;</span><span class=p>]</span> <span class=o>=</span> <span class=n>df</span><span class=o>.</span><span class=n>iloc</span><span class=p>[</span><span class=mi>0</span><span class=p>:,</span><span class=mi>0</span><span class=p>]</span> <span class=o>-</span> <span class=n>df</span><span class=o>.</span><span class=n>iloc</span><span class=p>[</span><span class=mi>0</span><span class=p>:,</span><span class=mi>1</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=n>df</span><span class=p>[</span><span class=s2>&#34;sq_error&#34;</span><span class=p>]</span> <span class=o>=</span> <span class=p>(</span><span class=n>df</span><span class=p>[</span><span class=s2>&#34;error&#34;</span><span class=p>])</span><span class=o>**</span><span class=mi>2</span>
</span></span><span class=line><span class=cl>    <span class=n>df</span><span class=p>[</span><span class=s2>&#34;abs_error&#34;</span><span class=p>]</span> <span class=o>=</span> <span class=nb>abs</span><span class=p>(</span><span class=n>df</span><span class=p>[</span><span class=s2>&#34;error&#34;</span><span class=p>])</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>df</span>
</span></span></code></pre></div><p>Ahora, usemos la función para calcular los errores como columnas adicionales.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>comparison</span> <span class=o>=</span> <span class=n>calculate_errors</span><span class=p>(</span><span class=n>comparison</span><span class=p>)</span>
</span></span></code></pre></div><p>Si bien esto nos calcula los errores, aún no nos dice qué tan bien predice el
modelo el estrato socioeconómico.</p><p>Definimos las siguientes métricas:</p><p>$$\text{MAE} = \frac{\sum_{i=1}^{N}| y_i - \hat{y}_i |}{N} \ \ \ \ \ \ \ \text{(Error absoluto medio)}$$</p><p>$$\text{RMSE} = \sqrt{\frac{\sum_{i=1}^{N}( y_i - \hat{y}_i )^2}{N}} \ \ \ \ \ \ \ \text{(Raíz del error cuadrático medio)}$$</p><p>Estas métricas son utilizadas para determinar la calidad del modelo de regresión
implementado.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Una pequeña función para calcular las métricas del modelo de regresión</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>model_metrics</span><span class=p>(</span><span class=n>df</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>MAE</span> <span class=o>=</span> <span class=n>df</span><span class=p>[</span><span class=s2>&#34;abs_error&#34;</span><span class=p>]</span><span class=o>.</span><span class=n>sum</span><span class=p>()</span><span class=o>/</span><span class=n>df</span><span class=p>[</span><span class=s2>&#34;abs_error&#34;</span><span class=p>]</span><span class=o>.</span><span class=n>count</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>RMSE</span> <span class=o>=</span> <span class=p>(</span><span class=n>df</span><span class=p>[</span><span class=s2>&#34;sq_error&#34;</span><span class=p>]</span><span class=o>.</span><span class=n>sum</span><span class=p>()</span><span class=o>/</span><span class=n>df</span><span class=p>[</span><span class=s2>&#34;sq_error&#34;</span><span class=p>]</span><span class=o>.</span><span class=n>count</span><span class=p>())</span><span class=o>**</span><span class=p>(</span><span class=mi>1</span><span class=o>/</span><span class=mi>2</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Métricas del modelo&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;MAE: </span><span class=si>{}</span><span class=s2> </span><span class=se>\t</span><span class=s2> RMSE: </span><span class=si>{}</span><span class=s2>&#34;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>MAE</span><span class=p>,</span> <span class=n>RMSE</span><span class=p>))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=kc>None</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>model_metrics</span><span class=p>(</span><span class=n>comparison</span><span class=p>)</span>
</span></span></code></pre></div><p>Esto nos devuelve la siguiente información:</p><pre tabindex=0><code>Model metrics
MAE: 0.5490078148166975 	 RMSE: 0.7043990103948065
</code></pre><div class="box notices tip"><div class=box-label><i class="fas fa-lightbulb fa-fw"></i> Trivia</div><div class=box-content><p>¿Qué nos dice cada métrica?</p></div></div><h2 id=conclusión>Conclusión</h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Aqui van tus comentarios ;)</span>
</span></span></code></pre></div><h2 id=referencias-y-material-adicional>Referencias y material adicional</h2><ul><li><p>Encuesta Nacional sobre Disponibilidad y Uso de Tecnologías de la Información
en los Hogares (ENDUTIH) 2019. INEGI. Disponible en:
<a href=https://www.inegi.org.mx/programas/dutih/2019/>https://www.inegi.org.mx/programas/dutih/2019/</a></p></li><li><p>Modelos Lineales. Jesús Montanero Fernández.
Disponible en: <a href=http://matematicas.unex.es/~jmf/Archivos/MODELOS_LINEALES.pdf>http://matematicas.unex.es/~jmf/Archivos/MODELOS_LINEALES.pdf</a></p></li><li><p>Linear Regression - statsmodels. Josef Perktold, Skipper Seabold y Jonathan
Taylor. Disponible en: <a href=https://www.statsmodels.org/stable/regression.html>https://www.statsmodels.org/stable/regression.html</a></p></li></ul><footer class=footline></footer></article></section></div></main></div><aside id=sidebar class=default-animation><div id=header-wrapper class=default-animation><div id=header class=default-animation><style>#logo svg,#logo svg *{color:#282828;color:var(--MENU-SECTIONS-BG-color);fill:#282828!important;fill:var(--MENU-SECTIONS-BG-color)!important;opacity:.945}a#logo{color:#282828;color:var(--MENU-SECTIONS-BG-color);font-family:work sans,helvetica,tahoma,geneva,arial,sans-serif;font-size:30px;font-weight:300;margin-top:-13px;max-width:60%;text-transform:uppercase;width:226px;white-space:nowrap}a#logo:hover{color:#282828;color:var(--MENU-SECTIONS-BG-color)}#logo svg{margin-bottom:-20px;margin-left:-23.5px;width:40.5%}@media only all and (max-width:59.938em){a#logo{font-size:25px;margin-top:-3px}#logo svg{margin-bottom:-12px;margin-left:-23px}}@media all and (-ms-high-contrast:none){a#logo{margin-top:-58px}#logo svg{margin-bottom:-62px}}</style><a id=logo href=/datlab/><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64.044 64.044"><path d="M46.103 136.34c-.642-.394-1.222-2.242-1.98-2.358-.76-.117-1.353.506-1.618 1.519-.266 1.012-.446 4.188.173 5.538.213.435.482.787 1.03.845.547.057.967-.504 1.45-1.027.482-.523.437-.9 1.142-.612.705.289 1.051.4 1.586 1.229.535.828 1.085 4.043.868 5.598-.241 1.458-.531 2.8-.59 4.088.26.075.517.148.772.217 2.68.724 5.373 1.037 7.873.02.001-.028.01-.105.008-.11-.048-.165-.18-.41-.36-.698-.18-.29-.414-.645-.586-1.114a3.212 3.212.0 01-.125-1.735c.056-.21.153-.342.249-.475 1.237-1.193 2.932-1.373 4.244-1.384.557-.004 1.389.016 2.198.255s1.706.724 2.068 1.843c.187.578.114 1.17-.043 1.623-.153.438-.369.783-.545 1.091-.178.31-.329.6-.401.821-.007.02-.003.071-.005.094 2.256 1.008 4.716.91 7.189.398.55-.114 1.11-.247 1.673-.377.344-1.085.678-2.145.852-3.208.124-.752.158-2.311-.078-3.538-.118-.613-.306-1.15-.52-1.489-.221-.349-.413-.501-.747-.538-.243-.027-.51.013-.796.098-.67.223-1.33.606-1.966.76l-.008.002-.109.032c-.556.152-1.233.158-1.797-.36-.556-.51-.89-1.367-1.117-2.596-.283-1.528-.075-3.279.89-4.518l.071-.09h.07c.65-.71 1.485-.802 2.16-.599.706.213 1.333.629 1.772.84.736.354 1.185.319 1.475.171.291-.148.5-.439.668-.955.332-1.017.301-2.819.022-4.106-.148-.684-.13-1.292-.13-1.883-1.558-.463-3.067-.982-4.574-1.208-1.128-.169-2.263-.173-3.298.164-.13.046-.256.095-.38.15-.373.164-.633.342-.805.52-.077.098-.081.105-.087.21-.004.068.031.289.13.571.1.282.256.634.467 1.03.279.524.448 1.063.431 1.618a2.12 2.12.0 01-.499 1.309 1.757 1.757.0 01-.62.51h-.002c-.515.291-1.107.404-1.723.464-.86.083-1.787.026-2.598-.097-.806-.123-1.47-.28-1.948-.555-.444-.256-.79-.547-1.037-.925a2.273 2.273.0 01-.356-1.301c.029-.837.403-1.437.625-1.897.111-.23.191-.433.236-.583.045-.15.044-.25.046-.24-.005-.029-.127-.355-1.015-.741-1.138-.495-2.322-.673-3.533-.668h-.015a9.711 9.711.0 00-.521.016h-.002c-1.163.057-2.35.308-3.541.569.383 1.531.79 2.753.818 4.502-.096 1.297.158 2.114-1.03 2.935-.85.588-1.508.729-2.15.335" style="fill:#282828;fill-opacity:1;stroke:none;stroke-width:1.03763;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" transform="translate(-40.698 -95.175)"/><path d="M61.472 101.34v.002c-.3-.003-.603.01-.894.04-.544.055-1.39.165-1.778.306-1.238.364.13 2.344.41 2.913.28.569.285 2.03.14 2.134-.144.103-.375.261-.934.345-.56.084.03-.037-1.589.086-1.62.122-5.506.29-8.265.248-.022.26-.036.521-.097.808-.309 1.442-.63 3.163-.494 4.074.071.473.168.65.414.8.23.14.737.235 1.62-.004.834-.227 1.3-.442 1.887-.456.595-.016 1.555.472 1.965.717.411.245-.03-.008.002.0s.128.05.176.102c.049.053-.276-.523.104.199.379.721.72 3.256.002 4.68-.46.913-1.01 1.49-1.64 1.711-.63.22-1.229.067-1.734-.135-.881-.353-1.584-.7-2.205-.647-1.199 1.94-1.186 4.17-.6 6.602.097.397.212.814.327 1.23 2.68-.556 5.542-1.016 8.337.132 1.064.437 1.73 1.015 1.902 1.857.169.831-.193 1.508-.438 1.986-.122.238-.23.46-.307.642-.07.164-.096.28-.104.324.069.429.309.723.686.945.385.227.89.355 1.35.423.723.104 1.567.152 2.287.086.693-.064 1.032-.338 1.241-.544a2.447 2.447.0 00.303-.437.175.175.0 00.013-.035c-.004-.066-.037-.246-.195-.527-.46-.816-.87-1.595-.817-2.51.028-.476.218-.938.529-1.288.304-.343.698-.586 1.186-.79 1.442-.606 2.96-.609 4.372-.409 1.525.216 2.963.679 4.378 1.083.226-2.09.784-3.9.592-5.77-.058-.565-.287-1.333-.598-1.827-.32-.508-.59-.717-1.036-.642-.648.11-1.472.935-2.707 1.078-.791.092-1.494-.267-1.95-.86-.45-.583-.678-1.335-.78-2.101-.202-1.525.031-3.229.89-4.27.615-.747 1.45-.887 2.15-.74.687.145 1.307.492 1.857.745v-.002c.546.252 1.033.388 1.281.344a.547.547.0 00.353-.188c.113-.124.242-.35.384-.75.604-1.712.206-3.68-.303-5.654-.667.145-1.336.293-2.018.413-1.341.236-2.73.392-4.136.273-.656-.055-1.695-.085-2.58-.476-.442-.195-.903-.514-1.157-1.093-.259-.591-.205-1.313.08-2.014.223-.64 1.082-2.178.692-2.585-.391-.407-1.651-.56-2.554-.571z" style="fill:#282828;fill-opacity:1;stroke:none;stroke-width:.992837;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" transform="translate(-40.698 -95.175)"/><path d="M83.128 98.116c-.484 1.875-1.057 3.757-2.486 5.033-.638.57-1.13.666-1.483.548-.401-.134-.715-.506-1.058-.973-.338-.461-.655-.97-1.076-1.332-.192-.165-.404-.315-.683-.38-.279-.066-.599-.02-.9.102-.489.196-.89.58-1.28 1.047a6.1 6.1.0 00-.985 1.632c-.234.591-.356 1.174-.277 1.713.072.487.392.977.905 1.185.463.187.926.156 1.36.154.433.0.843.01 1.242.147.55.189.79.736.822 1.368.034.66-.145 1.412-.393 1.988l-.008.021c-.74 1.705-1.946 2.893-3.004 4.349l-.664.915.979.099c.924.092 1.788.26 2.468.675.46.281 1.806 1.205 2.794 2.222.497.513.888 1.031 1.047 1.502.078.231.095.422.05.6a.93.93.0 01-.345.474c-.301.223-.606.395-.864.532l-.354.186c-.107.058-.189.087-.345.228a.637.637.0 01.062-.045l-.064.041-.209.236-.103.343s.003.126.007.152c.003.017.003.007.004.015v.002c.016.195.061.307.133.476a4.1 4.1.0 00.32.596 5.7 5.7.0 002.8 2.258c.284.108.908.321 1.548.36.33.02.59.015.912-.13h.002c.08-.037.228-.095.382-.281.153-.186.19-.355.212-.445l.019-.075.003-.078c.023-.585-.037-1.296.072-1.899.153-.657.435-.956 1.009-.909 2.771.239 4.74 1.955 6.693 3.83l.742.714.279-1.155c.55-2.29 1.093-4.464 2.928-5.977.692-.57 1.184-.642 1.527-.509.39.151.676.536.996.995.319.458.605.926 1.07 1.212.194.119.464.232.784.209.32-.024.638-.163.988-.384 1.022-.645 1.778-1.756 2.086-2.942.136-.522.102-.991-.046-1.301-.158-.334-.433-.553-.754-.707-.653-.314-1.468-.373-2.094-.486-.825-.15-1.22-.475-1.345-.878-.13-.417.0-.953.335-1.61.6-1.173 1.887-2.602 3.13-3.911l.498-.526-.449-.432c-1.545-1.49-3.163-3.01-5.252-3.715h-.002c-.473-.16-1.097-.413-1.73-.424h-.003c-.311-.004-.596.04-.883.24v.002c-.22.155-.483.537-.583.937l-.008.036-.006.038c-.116.773-.06 1.467-.217 1.995-.063.212-.198.418-.359.507-.202.111-.492.153-.976.072-.582-.097-1.978-.69-3.021-1.503-.523-.407-.934-.85-1.117-1.3a1.153 1.153.0 01-.083-.63c.03-.184.1-.477.308-.593.21-.116.941-.32 1.377-.642h.002c.192-.141.403-.367.518-.64.114-.275.127-.526.123-.774-.006-.142-.036-.192-.08-.3a8.417 8.417.0 00-3-3.027c-1.226-.725-2.585-1.135-3.927-1.539-.434-.12-.844-.111-1.02.466zm.912.947c1.186.364 2.357.718 3.345 1.303 1.035.612 1.864 1.488 2.507 2.528-.514.263-1.095.5-1.44.79s-.729.914-.815 1.434c-.084.509.0.968.155 1.347.301.74.85 1.276 1.44 1.735 1.18.92 2.554 1.545 3.47 1.698.604.1 1.186.088 1.739-.216.594-.327.935-.911 1.088-1.427.264-.884.193-1.664.262-2.17h.1c.3.006.926.206 1.417.371 1.646.554 3.044 1.773 4.431 3.089-1.102 1.174-2.222 2.423-2.888 3.73-.42.823-.73 1.789-.453 2.687.283.913 1.1 1.415 2.138 1.603.691.126 1.472.226 1.84.403.19.091.258.182.278.223.03.064.058.075-.023.387-.21.804-.761 1.598-1.413 2.01-.247.155-.365.183-.407.187-.042.003-.061.002-.172-.066-.144-.088-.455-.473-.772-.929-.317-.454-.714-1.07-1.452-1.356-.783-.304-1.776-.022-2.713.75-1.942 1.6-2.626 3.764-3.146 5.8-1.802-1.676-3.772-3.138-6.589-3.517h-.002c-.346-.095-1.013-.031-1.293.143-.735.501-1.005 1.132-1.168 2.007-.125.69-.082 1.216-.074 1.659-.055.006-.046.01-.104.006-.42-.026-1.035-.215-1.244-.295-.947-.361-1.774-1.006-2.314-1.857-.054-.085-.072-.132-.109-.2l.027-.016c.284-.15.656-.36 1.045-.648.44-.327.789-.798.93-1.35a2.4 2.4.0 00-.068-1.379c-.254-.751-.753-1.353-1.295-1.911-1.09-1.124-2.452-2.049-2.99-2.378-.609-.372-1.303-.44-1.981-.56.875-1.094 1.878-2.251 2.596-3.921.294-.823.543-1.907.513-2.658-.049-.97-.489-2.013-1.52-2.367-.579-.2-1.131-.204-1.58-.203-.45.002-.786-.006-.97-.08h-.002c-.264-.107-.236-.108-.268-.33-.025-.17.021-.553.183-.962a4.67 4.67.0 01.725-1.192c.29-.348.617-.59.705-.626.142-.057.176-.05.22-.04.045.011.127.052.263.17.235.201.56.671.92 1.161.354.484.791 1.08 1.543 1.33.8.267 1.784-.052 2.671-.846 1.594-1.424 2.235-3.317 2.714-5.051zm11.705 7.023c-.02.014.042-.002.042.0l-.008.035c.05-.2-.028-.04-.034-.035zM79.472 122.45a.198.198.0 01.005.023v.014c-.002-.01-.003-.03-.005-.037zm-.29.732-.006.01-.044.027c.016-.01.033-.024.05-.036z" style="color:#000;fill:#282828;stroke-width:1.02352;-inkscape-stroke:none" transform="translate(-40.698 -95.175)"/><path d="M76.694 128.845c-.85-.012-1.668.253-2.434.67-.01.592-.015 1.17.109 1.772.323 1.573.422 3.553-.07 5.147-.247.804-.684 1.535-1.347 1.891s-1.467.296-2.362-.159c-.522-.266-1.059-.62-1.487-.757-.223-.072-.392-.096-.522-.069-.13.027-.232.094-.362.27-.53.719-.681 1.823-.497 2.876.177 1.012.418 1.438.543 1.56.143.137.26.154.604.055.548-.158 1.523-.857 2.573-.972l.02-.002.5.058c.686.081 1.247.562 1.622 1.19.372.62.591 1.37.73 2.136.279 1.532.25 3.16.083 4.232-.14.91-.394 1.72-.632 2.53 1.719-.385 3.485-.692 5.307-.36 1.174.214 2.749.574 3.762 1.977l.088.122.046.159c.162.551.16 1.114.024 1.578-.13.45-.348.772-.533 1.023-.181.246-.336.444-.437.606-.102.16-.141.275-.145.336-.01.17.0.197.07.315.057.1.186.242.39.366.408.246 1.106.414 1.843.45a7.842 7.842.0 002.174-.21 4.28 4.28.0 00.822-.296c.218-.106.385-.242.377-.233l.029-.031c.025-.035.05-.072.05-.068.0-.004.0-.017-.003-.05a2.733 2.733.0 00-.21-.579c-.26-.548-.839-1.333-.822-2.46.01-.657.27-1.21.598-1.576.32-.357.696-.575 1.074-.736.759-.323 1.57-.418 2.054-.458 1.653-.136 3.252.296 4.755.765.457.142.905.29 1.352.434.325-2.258.902-4.247.598-6.217-.071-.46-.25-1.169-.486-1.684-.238-.518-.495-.762-.675-.779-.351-.032-.716.14-1.174.418-.457.277-1.005.665-1.695.742-.745.082-1.406-.291-1.84-.908-.428-.608-.653-1.394-.754-2.196-.203-1.596.016-3.377.794-4.493.568-.813 1.358-.984 2.024-.835.65.146 1.243.51 1.769.779.524.267.99.413 1.237.365a.527.527.0 00.346-.2c.11-.132.235-.373.37-.798.612-1.918.27-3.894-.246-6.054-2.815-.851-5.49-1.534-8.089-.267a.727.727.0 00-.223.148c-.024.028-.018.021-.026.056.001-.003-.01.178.07.44.162.522.611 1.29.911 1.978l.004.009.029.063.024.084V133c.162.635.016 1.297-.274 1.727-.272.404-.618.636-.952.81-.675.353-1.399.484-1.724.533a5.888 5.888.0 01-3.973-.795c-.512-.311-.876-.594-1.133-1.02-.282-.466-.318-1.084-.172-1.557.252-.814.715-1.266.971-1.89a.663.663.0 00.047-.14c.001-.013.0-.006-.007-.037a.761.761.0 00-.184-.268c-.264-.267-.865-.595-1.54-.826-1.356-.462-3.07-.659-3.583-.686-.062-.002-.121-.006-.178-.006z" style="fill:#282828;fill-opacity:1;stroke:none;stroke-width:.991342;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" transform="translate(-40.698 -95.175)"/></svg>Dat Lab</a></div><div class="searchbox default-animation"><label for=search-by><i class="fas fa-search"></i></label>
<input data-search-input id=search-by type=search placeholder=Buscar...>
<span data-search-clear><i class="fas fa-times"></i></span></div><script src=/datlab/js/lunr.min.js?1651724648></script>
<script src=/datlab/js/auto-complete.js?1651724648></script>
<script src=/datlab/js/search.js?1651724648></script></div><div id=content-wrapper class=highlightable><ul class="topics collapsible-menu"><li data-nav-id=/datlab/basics/ title=Inicio class=dd-item><input type=checkbox id=section-2af9d28ee6d5a9048e7386b9f1e9158d class=toggle><label for=section-2af9d28ee6d5a9048e7386b9f1e9158d></label><a href=/datlab/basics/><b>1.</b> Inicio</a><ul><li data-nav-id=/datlab/basics/migration/ title=Novedades class=dd-item><a href=/datlab/basics/migration/>Novedades</a></li><li data-nav-id=/datlab/basics/requirements/ title=Prerrequisitos class=dd-item><a href=/datlab/basics/requirements/>Prerrequisitos</a></li><li data-nav-id=/datlab/basics/installation/ title=Instalación class=dd-item><a href=/datlab/basics/installation/>Instalación</a></li><li data-nav-id=/datlab/basics/configuration/ title=Configuración class=dd-item><a href=/datlab/basics/configuration/>Configuración</a></li><li data-nav-id=/datlab/basics/history/ title=Historia class=dd-item><a href=/datlab/basics/history/>Historia</a></li></ul></li><li data-nav-id=/datlab/dap101/ title="Análisis de Datos en Python" class="dd-item active parent"><input type=checkbox id=section-9ad38ed41a1cb293f991baa3c52de584 class=toggle checked><label for=section-9ad38ed41a1cb293f991baa3c52de584></label><a href=/datlab/dap101/><b>2.</b> Análisis de Datos en Python</a><ul><li data-nav-id=/datlab/dap101/1-intro/ title="1. Introducción a Python" class=dd-item><a href=/datlab/dap101/1-intro/>1. Introducción a Python</a></li><li data-nav-id=/datlab/dap101/2-first_program/ title="2. Primer programa en Python" class=dd-item><a href=/datlab/dap101/2-first_program/>2. Primer programa en Python</a></li><li data-nav-id=/datlab/dap101/3-loop/ title="3. Bucles" class=dd-item><a href=/datlab/dap101/3-loop/>3. Bucles</a></li><li data-nav-id=/datlab/dap101/4-pandas/ title="4. Manejo de datos" class=dd-item><a href=/datlab/dap101/4-pandas/>4. Manejo de datos</a></li><li data-nav-id=/datlab/dap101/5-visualizacion/ title="5. Visualización" class=dd-item><a href=/datlab/dap101/5-visualizacion/>5. Visualización</a></li><li data-nav-id=/datlab/dap101/6-stats/ title="6. Análisis estadístico" class=dd-item><a href=/datlab/dap101/6-stats/>6. Análisis estadístico</a></li><li data-nav-id=/datlab/dap101/7-proyecto/ title="7. Recapitulación" class=dd-item><a href=/datlab/dap101/7-proyecto/>7. Recapitulación</a></li></ul></li></ul><div id=shortcuts><div class=nav-title>Más</div><ul><li><a class=padding href=/datlab/more/showcase/><i class="fas fa-fw fa-camera"></i> Escaparate</a></li><li><a class=padding href=/datlab/more/about/><i class="fas fa-child"></i> Acerca de</a></li><li><a class=padding href=/datlab/tags/><i class="fas fa-fw fa-tags"></i> Tags</a></li></ul></div><div class="footermargin footerLangSwitch footerVariantSwitch footerVisitedLinks footerFooter showFooter"></div><hr class="default-animation footerLangSwitch footerVariantSwitch footerVisitedLinks footerFooter showFooter"><div id=prefooter class="footerLangSwitch footerVariantSwitch footerVisitedLinks"><ul><li id=select-language-container class=footerLangSwitch><a class="padding select-container"><i class="fas fa-language fa-fw"></i>
<span>&nbsp;</span><div class=select-style><select id=select-language onchange="location=baseUri+this.value"></select></div><div class=select-clear></div></a></li><li id=select-variant-container class=footerVariantSwitch><a class="padding select-container"><i class="fas fa-paint-brush fa-fw"></i>
<span>&nbsp;</span><div class=select-style><select id=select-variant onchange=variants.changeVariant(this.value)><option id=relearn-light value=relearn-light selected>Relearn Light</option></select></div><div class=select-clear></div></a><script>variants.markSelectedVariant()</script></li><li class=footerVisitedLinks><a class=padding href=# data-clear-history-toggle><i class="fas fa-history fa-fw"></i> Borrar Historial</a></li></ul></div><div id=footer class="footerFooter showFooter"><style>#footer{font-size:13px;height:100px;margin-left:auto;margin-right:auto;padding:2rem 1rem;text-align:center;min-width:230px;max-width:300px}#footer p{margin:0}</style><a href="https://visitorbadge.io/status?path=mariel-rs.github.io%2Fdatlab%2F"><img src="https://api.visitorbadge.io/api/combined?path=mariel-rs.github.io%2Fdatlab%2F&label=Visitantes&countColor=%2337d67a&style=flat"></a>
<a rel=license href=http://creativecommons.org/licenses/by-sa/4.0/ , target=_blank><img alt="Licencia de Creative Commons" style=border-width:0 src=https://i.creativecommons.org/l/by-sa/4.0/80x15.png></a><br>Este obra está bajo una <a rel=license href=http://creativecommons.org/licenses/by-sa/4.0/ , target=_blank>licencia de Creative Commons Reconocimiento-CompartirIgual 4.0 Internacional</a>.<p>Built with <a href=https://github.com/McShelby/hugo-theme-relearn , target=_blank><i class="fas fa-heart"></i></a> by <a href=https://gohugo.io/ , target=_blank>Hugo</a></p><script async defer src=/datlab/js/buttons.js?1651724648></script></div></div></aside><script src=/datlab/js/clipboard.min.js?1651724648></script>
<script src=/datlab/js/perfect-scrollbar.min.js?1651724648></script>
<script src=/datlab/js/featherlight.min.js?1651724648></script>
<script src=/datlab/js/theme.js?1651724648></script></body></html>